!function(l){function e(e){for(var t,n,a=e[0],r=e[1],o=e[2],i=0,c=[];i<a.length;i++)n=a[i],s[n]&&c.push(s[n][0]),s[n]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(l[t]=r[t]);for(d&&d(e);c.length;)c.shift()();return p.push.apply(p,o||[]),u()}function u(){for(var e,t=0;t<p.length;t++){for(var n=p[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==s[o]&&(a=!1)}a&&(p.splice(t--,1),e=i(i.s=n[0]))}return e}var n={},s={0:0},p=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=l,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var t=window.webpackJsonp=window.webpackJsonp||[],a=t.push.bind(t);t.push=e,t=t.slice();for(var r=0;r<t.length;r++)e(t[r]);var d=a;p.push([936,1]),u()}({936:function(e,t,n){"use strict";n.r(t);n(377),n(379);function o(e){return{type:k,payload:e}}function i(e,t){return{type:w,payload:{msg:e,status:t}}}function c(e){var t=e().auth.token,n={headers:{"Content-Type":"application/json"}};return t&&(n.headers.Authorization="Token ".concat(t)),n}var O=n(0),S=n.n(O),a=(n(382),n(56)),r=n.n(a),l=n(58),u=n(92),s=n(139),p=n(354),d=n(7),f=n(1),m=n.n(f),b=n(13),y=n.n(b),h="GET_DASHBOARDS",v="DELETE_DASHBOARD",g="ADD_DASHBOARD",E="UPDATE_DASHBOARD",w="GET_ERRORS",_="GET_A_DASHBOARD",k="CREATE_MESSAGE",j="USER_LOADING",N="USER_LOADED",C="AUTH_ERROR",P="LOGIN_SUCCESS",D="LOGIN_FAIL",T="LOGOUT_SUCCESS",x="REGISTER_FAIL",A="REGISTER_SUCCESS",R="GET_KPIS",F="ADD_KPI",I="UPDATE_KPI",M="DELETE_KPI",q="CLEAR_KPIS",U="ADD_SERIES",L="GET_SERIES",K="DELETE_SERIES",H="UPDATE_SERIES",W="DELETE_DATAPOINT",z="UPDATE_DATAPOINT",B="ADD_DATAPOINT",G="ADD_ACTIONS",Y="DELETE_ACTIONS",V="UPDATE_ACTION",X="UPDATE_ACTION_TABLE",Q="GET_ACTION_TABLE",J="CLEAR_CURRENT_DASHBOARD",Z="CLEAR_ACTION_TABLE",ee="GET_AUDITS",te="GET_AUDIT",ne="UPDATE_AUDIT",ae="DELETE_AUDIT",re="GET_WIN",oe="ADD_WIN",ie="UPDATE_WIN",ce="DELETE_WIN",le="GET_HEAT",ue="UPDATE_HEAT",se="ADD_IMAGE",pe="DELETE_IMAGE";function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function me(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var he=function(){function i(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return me(o,(t=o=me(this,(e=be(i)).call.apply(e,[this].concat(a))),o.state={username:"",password:""},o.onSubmit=function(e){var t=o.props.login,n=o.state,a=n.username,r=n.password;e.preventDefault(),t(a,r)},o.onChange=function(e){o.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.target.name,e.target.value))},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,O["Component"]),function(e,t,n){t&&fe(e.prototype,t),n&&fe(e,n)}(i,[{key:"render",value:function(){if(this.props.isAuthenticated)return S.a.createElement(u.a,{to:"/"});var e=this.state,t=e.username,n=e.password;return S.a.createElement("div",{className:"col-md-6 m-auto"},S.a.createElement("div",{className:"card card-body mt-5"},S.a.createElement("h2",{className:"text-center"},"Login"),S.a.createElement("form",{onSubmit:this.onSubmit},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"username"},"Username"),S.a.createElement("input",{type:"text",className:"form-control",name:"username",onChange:this.onChange,value:t})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"password"},"Password"),S.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:n})),S.a.createElement("div",{className:"form-group"},S.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login")),S.a.createElement("p",null,"Don't have an account?"," ",S.a.createElement(l.b,{to:"/register"},"Sign up your department today!")))))}}]),i}();he.propTypes={login:m.a.func.isRequired,isAuthenticated:m.a.bool.isRequired};var ve=Object(d.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(n,a){return function(t){var e=JSON.stringify({username:n,password:a});y.a.post("/api/auth/login",e,{headers:{"Content-Type":"application/json"}}).then(function(e){t({type:P,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t({type:D})})}}})(he);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function we(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(){function o(){var e,t,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return we(u,(t=u=we(this,(e=Oe(o)).call.apply(e,[this].concat(a))),u.state={username:"",email:"",password:"",password2:""},u.onSubmit=function(e){e.preventDefault();var t=u.state,n=t.username,a=t.email,r=t.password,o=t.password2,i=u.props,c=i.createMessage,l=i.register;r!==o?c({passwordsNotMatch:"Passwords Do Not Match"}):l({username:n,password:r,email:a})},u.onChange=function(e){u.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.target.name,e.target.value))},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(o,O["Component"]),function(e,t,n){t&&Ee(e.prototype,t),n&&Ee(e,n)}(o,[{key:"render",value:function(){if(this.props.isAuthenticated)return S.a.createElement(u.a,{to:"/"});var e=this.state,t=e.username,n=e.email,a=e.password,r=e.password2;return S.a.createElement("div",{className:"col-md-6 m-auto"},S.a.createElement("div",{className:"card card-body mt-5"},S.a.createElement("h2",{className:"text-center"},"Register Your Department"),S.a.createElement("form",{onSubmit:this.onSubmit},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"username"},"Username"),S.a.createElement("input",{type:"text",className:"form-control",name:"username",onChange:this.onChange,value:t})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"email"},"Email"),S.a.createElement("input",{type:"text",className:"form-control",name:"email",onChange:this.onChange,value:n})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"password"},"Password"),S.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:a})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),S.a.createElement("input",{type:"password",className:"form-control",name:"password2",onChange:this.onChange,value:r})),S.a.createElement("div",{className:"form-group"},S.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Register")),S.a.createElement("p",null,"Already have an account?"," ",S.a.createElement(l.b,{to:"/login"}," Login!")))))}}]),o}();_e.propTypes={register:m.a.func.isRequired,isAuthenticated:m.a.bool.isRequired,createMessage:m.a.func.isRequired};var ke=Object(d.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{register:function(e){var n=e.username,a=e.password,r=e.email;return function(t){var e=JSON.stringify({username:n,email:r,password:a});y.a.post("/api/auth/register",e,{headers:{"Content-Type":"application/json"}}).then(function(e){t({type:A,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t({type:x})})}},createMessage:o})(_e);function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(){return function(t,e){y.a.get("/api/dashboards/",c(e)).then(function(e){t({type:h,payload:e.data})}).catch(function(e){return t(i(e.response.data,e.response.status))})}}function Ce(n){return function(t,e){y.a.delete("/api/dashboards/".concat(n,"/"),c(e)).then(function(){t(o({deleteDashboard:"Dashboard Deleted!"})),t({type:v,payload:n})}).catch(function(e){t(i(e.response.data,e.response.status))})}}function Pe(n){return function(t,e){y.a.get("api/dashboards/".concat(n,"/"),c(e)).then(function(e){t({type:_,payload:e.data})}).catch(function(e){return t(i(e.response.data,e.response.status))})}}function De(n){return function(t,e){y.a.post("/api/dashboards/",n,c(e)).then(function(e){t(o({addDashboard:"Dashboard Added!"})),t({type:g,payload:e.data})}).catch(function(e){t(o({invalidForm:"Form is invalid"})),t(i(e.response.data,e.response.status))})}}function Te(a,e){var r=1<arguments.length&&void 0!==e?e:"";return function(t,e){var n=r?"/api/kpis/?dashboard=".concat(a,"&pillar=").concat(r):"/api/kpis/?dashboard=".concat(a);y.a.get(n,c(e)).then(function(e){t({type:R,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status))})}}function xe(){return function(e){e({type:q})}}function Ae(n,a){return function(t,e){console.log(n),y.a.patch("/api/datapoint/".concat(a,"/"),n,c(e)).then(function(e){t(o({updateDatapoint:"Datapoint Updated"})),t({type:z,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}function Re(n){return function(e,t){y.a.delete("api/action/".concat(n,"/"),c(t)).then(function(){e(o({deleteAction:"Action Deleted"})),e({type:Y,payload:n})})}}function Fe(n,a){return function(t,e){y.a.patch("api/action/".concat(a,"/"),n,c(e)).then(function(e){t(o({updateAction:"Action Updated"})),t({type:V,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}function Ie(n,a){return function(t,e){y.a.patch("/api/audit/".concat(a,"/"),n,c(e)).then(function(e){t(o({updateAudit:"Audit Updated"})),t({type:ne,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}function Me(n){return function(e,t){y.a.delete("/api/audit/".concat(n,"/"),c(t)).then(function(){e(o({deleteAudit:"Audit Deleted"})),e({type:ae,payload:n})})}}function qe(n,a){return function(t,e){y.a.patch("/api/win/".concat(a,"/"),n,c(e)).then(function(e){t(o({updateWin:"Win Updated"})),t({type:ie,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}function Ue(n){return function(e,t){y.a.delete("/api/win/".concat(n,"/"),c(t)).then(function(){e(o({deleteWin:"Win Deleted"})),e({type:ce,payload:n})})}}function Le(n,a){return function(t,e){y.a.patch("/api/heat/".concat(a,"/"),n,c(e)).then(function(e){t({type:ue,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}function Ke(){return S.a.createElement("div",{className:"col-md-6 m-auto"},S.a.createElement("div",{className:"card text-center mt-5"},S.a.createElement("div",{className:"card card-body"},S.a.createElement(We.a,{sizeUnit:"px",size:60,css:$e,color:ze}),S.a.createElement("h1",{style:{margin:0}},"Loading"))))}var He=n(356),We=n.n(He),ze=(n(353),"#9BB0DB"),$e={name:"qdsigz-override",styles:"display:flex;margin:0 auto 20px auto;justify-content:center;align-items:center;label:override;"};function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ye(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,Ve(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,O["Component"]),function(e,t,n){t&&Ge(e.prototype,t),n&&Ge(e,n)}(t,[{key:"render",value:function(){var e=this.props.images;return S.a.createElement("div",{id:"demo",className:"carousel slide ml-auto mr-auto","data-ride":"carousel"},S.a.createElement("ul",{className:"carousel-indicators"},e.map(function(e,t){return S.a.createElement("li",{"data-target":"#demo",className:0===t?"active":"","data-slide-to":t})})),S.a.createElement("div",{className:"carousel-inner"},e.map(function(e,t){return S.a.createElement("div",{className:"carousel-item ".concat(0===t?"active":"")},S.a.createElement("img",{style:{maxHeight:"300px",maxWidth:"1500px"},src:e.image,alt:!0}))})),S.a.createElement("a",{className:"carousel-control-prev",href:"#demo","data-slide":"prev"},S.a.createElement("span",{className:"carousel-control-prev-icon"})),S.a.createElement("a",{className:"carousel-control-next",href:"#demo","data-slide":"next"},S.a.createElement("span",{className:"carousel-control-next-icon"})))}}]),t}();Qe.propTypes={images:m.a.array.isRequired};var Je=Qe,Ze=n(6),et=n(113),tt=[{id:"li",name:"Connected Scatter Plot"}],nt=[{id:0,name:"QDCI Dashboard"}],at=[{id:0,name:"Deviation"},{id:1,name:"Win-Lose"},{id:2,name:"Threshold"}],rt=[{id:1,name:"Level 1"},{id:2,name:"Level 2"},{id:3,name:"Level 3"},{id:4,name:"Level 4"}],ot=[{id:"Plus",name:"Safety"},{id:"Q",name:"Quality"},{id:"D",name:"Delivery"},{id:"C",name:"Cost"},{id:"I",name:"Involvement"}],it=[{id:0,name:"Monthly"},{id:1,name:"Weekly"},{id:2,name:"Bi-Weekly"}],ct=[{name:"Name",prop:"name"},{name:"Pillar",prop:"pillar",map:function(t){return ot.filter(function(e){return e.id===t})[0].name}},{name:"Frequency",prop:"frequency",map:function(e){return it[e].name}},{name:"Type",prop:"kpi_type",map:function(e){return at[e].name}}],lt=[{name:"Description",prop:"description"},{name:"Start Date",prop:"start_date"},{name:"End Date",prop:"end_date"}],ut=[{name:"Description",prop:"description"},{name:"Participants",prop:"participants"},{name:"Date",prop:"date"}],st=[{name:"Letter",prop:"letter"},{name:"Problem",prop:"problem"},{name:"Root Cause",prop:"root_cause"},{name:"Solution",prop:"solution"},{name:"Leader",prop:"leader"},{name:"Date",prop:"date",date:!0}],pt=[{date:"2019-01-01"},{date:"2019-02-01"},{date:"2019-03-01"},{date:"2019-04-01"},{date:"2019-05-01"},{date:"2019-06-01"},{date:"2019-07-01"},{date:"2019-08-01"},{date:"2019-09-01"},{date:"2019-10-01"},{date:"2019-11-01"},{date:"2019-12-01"}],dt=function(e,t,n,a){var r="#F2F2F2";switch(a){case 0:r=e<=t?"green":t<e&&n<=t?"orange":"red";break;case 1:r=t<=e?"green":e<t&&t<=n?"orange":"red"}return r};function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gt=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?ht(e):t}(this,yt(n).call(this,e))).renderD3=t.renderD3.bind(ht(t)),t.updateD3=t.updateD3.bind(ht(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(n,S.a.Component),function(e,t,n){t&&bt(e.prototype,t),n&&bt(e,n)}(n,[{key:"componentDidMount",value:function(){this.renderD3(),this.updateD3()}},{key:"componentDidUpdate",value:function(e){this.props.kpis!==e.kpis&&this.updateD3()}},{key:"render",value:function(){var e=this.props.chart;return S.a.createElement("div",{style:{margin:"".concat(10,"px ",0)}},e)}},{key:"renderD3",value:function(){var e=this.props,t=e.connectFauxDOM,n=e.animateFauxDOM,a=t("svg","chart"),r=this.props,o=r.letter,i=r.dashboardId,c=r.labeled?.4:1,l=Ze.m(a).attr("id","chartPillar").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlnsXlink","http://www.w3.org/1999/xlink").attr("viewBox","0 0 ".concat(200," ").concat(200)).attr("preserveAspectRatio","xMidYMid meet").classed("svg-content",!0).append("a").attr("href","#/pillar/".concat(i,"/").concat("+"===o?"Plus":o)).style("text-decoration","none");l.append("circle").attr("cx",100).attr("cy",100).attr("alignment-baseline","middle").attr("r",0).style("fill",ze).attr("id","circle").transition().duration(800).attr("r",50-200/(50*c)),n(800),l.append("text").text(o).attr("dx","50%").attr("dy","52%").attr("id","text").attr("text-anchor","middle").attr("alignment-baseline","middle").style("fill","#EEEEEE").style("font-size",200/2.9).style("text-decoration","none")}},{key:"updateD3",value:function(){var e=this.props,t=e.kpis,n=e.letter,a=e.labeled,c=e.onHover,r=t.length,o=a?-1:0,i=a?.9:1,l=Ze.p("%Y-%m-%d"),u=Ze.o("%b");for(var s in t)for(var p in t[s].series){t[s].series[p].entries.sort(function(e,t){return!e.date&&t.date?1:e.date&&!t.date?-1:e.date||t.date?new Date(e.date)-new Date(t.date):0})}var d=Ze.i().sort(null).value(function(e){return 1}),f=Ze.a().cornerRadius(2).padAngle(.6).padRadius(3),m=Ze.a().innerRadius(42+200*i/21*(r-1)*1+15).outerRadius(42+200*i/20*(r-1)*1.3+15).cornerRadius(2).padAngle(.05).padRadius(80),b=this.props.connectFauxDOM("svg","chart");Ze.m(b).select("#text").text(n);var y=Ze.m(b).selectAll(".kpi").data(t);y.exit().remove();var h=y.enter().append("g").attr("class","kpi").merge(y).attr("data-index",function(e,t){return t}).attr("data-safe",function(e){return e.safe_deviation}).attr("data-frequency",function(e){return e.frequency}).attr("data-danger",function(e){return e.danger_deviation}).attr("data-name",function(e){return e.name}).attr("data-thresh-type",function(e){return e.threshold_type}).attr("data-warning",function(e){return e.warning_margin}).attr("data-type",function(e){return e.kpi_type}).attr("data-is-percentage",function(e){return e.isPercentage}).attr("transform","translate(".concat(100,",").concat(100,")"));this.props.animateFauxDOM(800),h.selectAll(".ring").remove();var v=h.selectAll(".ring").data(function(e){return d(e.series[0]?e.series[0].entries:[])});if(v.enter().append("path").attr("class","ring").attr("id",function(e){return"ring_".concat(e.data.id)}).attr("d",function(e,t,n){var a=$(n)[t].parentNode.getAttribute("data-index");return f.outerRadius(50+200*i/16*(a+1+o)).innerRadius(50+200*i/16*(a+o)+4)(e)}).on("mouseover",function(e,t,n){var a=$(n)[t].parentNode.getAttribute("data-type"),r=$(n)[t].parentNode.getAttribute("data-name"),o=$(n)[t].parentNode.getAttribute("data-thresh-type"),i=$(n)[t].parentNode.getAttribute("data-warning");Ze.m("#ring_".concat(e.data.id)).style("stroke","#000").attr("stroke-width","1"),c&&c(!0,{payload:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){mt(t,e,n[e])})}return t}({x:Ze.e.pageX,y:Ze.e.pageY,kpi_type:a,kpiName:r,threshold_type:o,warning_margin:i},e.data)})}).on("mouseout",function(e){Ze.m("#ring_".concat(e.data.id)).style("stroke","none"),c&&c(!1)}).merge(v).style("fill",function(e,t,n){return function(e){var t=e.safe_deviation,n=e.danger_deviation,a=e.kpi_type,r=e.warning_margin,o=e.threshold_type,i=e.isPercentage,c=e.value,l=e.target,u="#F2F2F2",s=100*(c/l-1),p=Math.abs(s);if(null==c)return u;switch(a){case 0:u=p<t?"green":t<p&&p<n?"orange":"red";break;case 2:if(!i)return dt(l,c,r,o);switch(o){case 0:u=l<=c?"green":s<r?"red":"orange";break;case 1:u=c<=l?"green":r<s?"red":"orange"}break;case 1:switch(o){case 0:u=l<=c?"green":"red";break;case 1:u=c<=l?"green":"red"}}return u}({safe_deviation:$(n)[t].parentNode.getAttribute("data-safe"),danger_deviation:$(n)[t].parentNode.getAttribute("data-danger"),kpi_type:$(n)[t].parentNode.getAttribute("data-type"),warning_margin:$(n)[t].parentNode.getAttribute("data-warning"),threshold_type:$(n)[t].parentNode.getAttribute("data-thresh-type"),isPercentage:$(n)[t].parentNode.getAttribute("data-is-percentage"),value:e.data.value,target:e.data.target})}),Ze.m(b).selectAll(".label").remove(),t[r-1]&&a&&t[r-1].series[0]){Ze.m(b).selectAll(".label").data(d(pt)).enter().append("text").text(function(e,t,n){return e.data.date?u(l(e.data.date)):""}).attr("class","label").attr("transform",function(e){var t=m.centroid(e);e.startAngle,e.endAngle,e.startAngle;return t[0]+=100,t[1]+=102,"translate(".concat(t,")")}).style("font-size","0.5rem").style("text-anchor",function(e){return e.startAngle+(e.endAngle-e.startAngle)/2<Math.PI?"start":"end"}).style("fill",ze);this.props.animateFauxDOM(800)}}}]),n}();gt.propTypes={kpis:m.a.array.isRequired,letter:m.a.string.isRequired,dashboardId:m.a.string.isRequired,labeled:m.a.bool,onHover:m.a.func,connectFauxDOM:m.a.func.isRequired},gt.defaultProps={chart:"loading",labeled:!1,onHover:null};function Et(e){function t(t){return n?n.filter(function(e){return e.pillar===t}):[]}var n=e.kpis,a=e.dashboardId;return S.a.createElement("div",null,S.a.createElement(wt,{kpis:t("Plus"),letter:"+",dashboardId:a}),S.a.createElement(wt,{kpis:t("Q"),letter:"Q",dashboardId:a}),S.a.createElement(wt,{kpis:t("D"),letter:"D",dashboardId:a}),S.a.createElement(wt,{kpis:t("C"),letter:"C",dashboardId:a}),S.a.createElement(wt,{kpis:t("I"),letter:"I",dashboardId:a}))}var wt=Object(et.withFauxDOM)(gt);Et.propType={kpis:m.a.arrayOf(m.a.object),dashboardId:m.a.number.isRequired},Et.defaultProps={kpis:null};var Ot=Et,St=n(248),_t=n.n(St),kt=n(66);n(133);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Ct(t,e,n[e])})}return t}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Dt(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var At=function(){function o(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(a=Dt(this,Tt(o).call(this,e))).handleChange=function(e){var t=Nt({},a.state.entry);t[e.target.name]=e.target.value,a.setState({entry:t})},a.handleDateChange=function(e,t){var n=Nt({},a.state.entry);n[t]=e,a.setState({entry:n})};var t=[];for(var n in a.props.header){var r=a.props.header[n].prop;t[r]=a.props.data[r]}return a.state={entry:t},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(o,O["Component"]),function(e,t,n){t&&Pt(e.prototype,t),n&&Pt(e,n)}(o,[{key:"stopEditing",value:function(e){var t=this.state.entry;this.props.stopEditingHook(e,this.props.id,t)}},{key:"renderCellData",value:function(e){return e.map?e.map(this.props.data[e.prop]):this.props.data[e.prop]}},{key:"render",value:function(){var n=this,e=this.props,t=e.editIdx,a=e.data,r=e.header,o=e.i,i=e.editable,c=e.tableId,l=e.rowClick,u=e.deletable,s=e.formatRow,p=this.state.entry,d=t===o;return i?S.a.createElement("tr",{className:s?s(a):"",key:a.id,"data-tip":o,"data-for":"global-".concat(c),onClick:function(){l&&l(a.id)}},r.map(function(t,e){return t.date?S.a.createElement("td",{key:"trc-".concat(e)},d?S.a.createElement(kt.a,{onChange:function(e){return n.handleDateChange(e,t.prop)},selected:p[t.prop]}):null!=n.props.data[t.prop]?n.props.data[t.prop]:"---"):S.a.createElement("td",{key:"trc-".concat(e)},d?S.a.createElement("input",{name:t.prop,onChange:function(e){return n.handleChange(e)},type:"text",placeholder:n.props.data[t.prop],value:p[t.prop],style:{width:"".concat(100,"%")}}):null!=n.props.data[t.prop]?n.renderCellData(t):"---")}),d?S.a.createElement("td",{key:"done",className:"im im-check-mark icon co-primary",style:{display:"table-cell"},onClick:function(e){return n.stopEditing(e)}}):S.a.createElement("td",{style:{display:"table-cell"},className:"im im-edit co-primary icon",key:"edit",onClick:function(){return n.props.startEditing(o)}}),u&&S.a.createElement("td",{style:{display:"table-cell"},className:"im im-trash-can co-primary icon",key:"delete",onClick:function(){return n.props.handleRemove(a.id)}})):S.a.createElement("tr",{key:a.id,"data-tip":o,"data-for":"global-".concat(c),onClick:function(){l&&l(a.id)}},r.map(function(e,t){return S.a.createElement("td",{key:"trc-".concat(t)},null!=n.props.data[e.prop]?n.renderCellData(e):"---")}),u&&S.a.createElement("td",{style:{display:"table-cell"},className:"im im-trash-can co-primary icon",key:"delete",onClick:function(){return n.props.handleRemove(a.id)}}))}}]),o}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ut=function(){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?Mt(e):t}(this,It(t).call(this,e))).id=a.constructor.generateUID(),a.handleRemove=function(e){confirm("Are you sure you want to delete this entry? \n All related data will be lost.")&&(a.setState({editIdx:-1}),a.props.delete(e))},a.startEditing=function(e){a.setState({editIdx:e})},a.handleInsert=function(){a.props.insert()},a.stopEditingHook=function(e,t,n){a.props.update(n,t),a.setState({editIdx:-1})},a.handleRemove=a.handleRemove.bind(Mt(a)),a.startEditing=a.startEditing.bind(Mt(a)),a.stopEditingHook=a.stopEditingHook.bind(Mt(a)),a.handleInsert=a.handleInsert.bind(Mt(a)),a.state={isLoading:!0,editIdx:-1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(t,O["Component"]),function(e,t,n){t&&Ft(e.prototype,t),n&&Ft(e,n)}(t,[{key:"componentDidUpdate",value:function(){_t.a.rebuild()}},{key:"render",value:function(){var n=this,e=this.props,a=e.data,r=e.header,t=e.editable,o=e.fontSize,i=e.summary,c=e.appendable,l=e.tooltipMessage,u=e.rowClick,s=e.deletable,p=e.formatRow;return a?a.length?S.a.createElement(O.Fragment,null,S.a.createElement("div",{className:"column"},i&&S.a.createElement("p",{className:"d-inline",style:{fontSize:"0.9rem"}},"Showing ",S.a.createElement("strong",null,a.length)," items"),c&&S.a.createElement("i",{className:"im im-plus co-primary icon d-line ml-3 pb-1",style:{lineHeight:1.5,verticalAlign:"middle",fontSize:"".concat(1,"rem")},onClick:this.handleInsert}),S.a.createElement("div",{className:"table-responsive mt-3",style:{fontSize:o}},S.a.createElement("table",{className:"table is-striped table-sm",style:{textAlign:"center"}},S.a.createElement("thead",null,S.a.createElement("tr",{key:"thr"},r.map(function(e,t){return S.a.createElement("th",{key:"thc-".concat(t)},e.name)}),t&&S.a.createElement("th",null,"Edit"),t&&S.a.createElement("th",null,"Delete"))),S.a.createElement("tbody",null,a.map(function(e,t){return S.a.createElement(O.Fragment,{key:a[t].id},S.a.createElement(At,{data:e,i:t,id:a[t].id,header:r,startEditing:n.startEditing,editable:n.props.editable,editIdx:n.state.editIdx,stopEditingHook:n.stopEditingHook,handleRemove:n.handleRemove,hover:null,tableId:n.id,rowClick:u,deletable:s,formatRow:p}))}))))),l&&S.a.createElement(_t.a,{id:"global-".concat(this.id),type:"info",place:"left",effect:"solid",getContent:function(e){if(e&&a[e])return l?l(e):void 0}})):S.a.createElement(O.Fragment,null,S.a.createElement("div",{className:"d-flex flex-row justify-content-start mb-5"},S.a.createElement("p",null,"Nothing to show"),c&&S.a.createElement("i",{className:"im im-plus co-primary icon d-flex ml-3 pb-1",style:{lineHeight:1.5,verticalAlign:"middle",fontSize:"".concat(1,"rem")},onClick:this.handleInsert}))):S.a.createElement(Ke,null)}}]),t}();Ut.propTypes={data:m.a.array.isRequired,header:m.a.array.isRequired,delete:m.a.func,update:m.a.func,editable:m.a.bool,insert:m.a.func,fontSize:m.a.string,summary:m.a.bool,tooltipMessage:m.a.func},Ut.generateUID=function(){return"_".concat(Math.random().toString(36).substr(2,9))},Ut.defaultProps={editable:!1,update:null,delete:null,fontSize:"".concat(1,"rem"),summary:!0,deletable:!1};var Lt=Ut;function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bt,Gt,Yt,Vt=function(){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?zt(e):t}(this,Wt(t).call(this,e))).tooltipMessage=function(e){var t=a.props.data,n=new Date(t.actions[e].date_created);return n.toDateString(),S.a.createElement("div",null,S.a.createElement("h5",null,t.actions[e].source.dashboard.title),S.a.createElement("p",null,"Date Created:",n.toGMTString()))},a.update=a.update.bind(zt(a)),a.delete=a.delete.bind(zt(a)),a.insert=a.insert.bind(zt(a)),a.tooltipMessage=a.tooltipMessage.bind(zt(a)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(t,O["Component"]),function(e,t,n){t&&Ht(e.prototype,t),n&&Ht(e,n)}(t,[{key:"update",value:function(e,t){(0,this.props.updateAction)(e,t)}},{key:"insert",value:function(){var e=this.props,t=e.data;(0,e.addAction)({tables:t.parent?[t.id,t.parent]:[t.id],source_id:t.id})}},{key:"delete",value:function(e){(0,this.props.deleteAction)(e)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.header,a=e.editable,r=e.appendable,o=e.rowClick,i=e.hoverable,c=e.deletable;return S.a.createElement(Lt,{editable:a,appendable:r,data:t.actions,header:n,update:this.update,delete:this.delete,insert:this.insert,rowClick:o,deletable:c,fontSize:"0.6rem",summary:!0,tooltipMessage:i?this.tooltipMessage:null})}}]),t}();Vt.propTypes=(Bt={data:m.a.object.isRequired,header:m.a.array.isRequired,editable:m.a.bool,rowClick:m.a.func,hoverable:m.a.bool,deletable:m.a.bool},Gt="hoverable",Yt=m.a.bool,Gt in Bt?Object.defineProperty(Bt,Gt,{value:Yt,enumerable:!0,configurable:!0,writable:!0}):Bt[Gt]=Yt,Bt);var Xt=Object(d.b)(null,{updateAction:Fe,deleteAction:Re,addAction:function(n){return function(t,e){y.a.post("/api/action/",n,c(e)).then(function(e){t(o({addAction:"Action Added"})),t({type:G,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}})(Vt);Vt.defaultProps={hoverable:!1,editable:!1,deletable:!1,appendable:!1,rowClick:null};function Qt(e){var t=e.dashboard,n=e.selection,a=e.handleClick,r=n==t.id?{border:"".concat("2px solid ").concat(ze)}:{border:"1px solid rgba(0,0,0,.125)"};return S.a.createElement("div",{className:"card m-3",onClick:function(){a(t.id)},style:r},S.a.createElement("div",{className:"card-body"},S.a.createElement("h5",{className:"card-title"},t.title),S.a.createElement("p",{className:"card-text"},"Author:"," ",t.author,S.a.createElement("br",null),"Level:"," ",t.level)))}function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var an=function(){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?tn(e):t}(this,en(t).call(this,e))).handleClick=function(e){o.setState({selected:e})},o.onSubmit=function(e){var t=o.props,n=t.updateActionTable,a=t.actionTable,r=o.state.selected;e.preventDefault(),n(a,a.id,r),$("#escalationOptions").modal("hide")},o.handleClick=o.handleClick.bind(tn(o)),o.state={selected:o.props.actionTable.parent_dashboard?o.props.actionTable.parent_dashboard:null},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(t,O["Component"]),function(e,t,n){t&&Zt(e.prototype,t),n&&Zt(e,n)}(t,[{key:"render",value:function(){var t=this,e=this.props,n=e.dashboards,a=e.currentDashboard,r=this.state.selected;return S.a.createElement(O.Fragment,null,S.a.createElement("div",{className:"modal fade",id:"escalationOptions",role:"dialog","aria-labelledby":"escalationOptionsLabel","aria-hidden":"true"},S.a.createElement("div",{className:"modal-dialog",role:"document"},S.a.createElement("div",{className:"modal-content"},S.a.createElement("div",{className:"modal-header"},S.a.createElement("h1",{className:"modal-title",id:"escalationOptionsLabel"},S.a.createElement("span",{className:"im im-link",style:{fontSize:"".concat(2.5,"rem"),verticalAlign:"-0.1em"}}),"  ","Manage Escalation"),S.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},S.a.createElement("span",{"aria-hidden":"true"},"×"))),S.a.createElement("div",{className:"modal-body",style:{padding:0}},S.a.createElement("div",{className:"card"},S.a.createElement("div",{className:"card-header"},S.a.createElement("ul",{className:"nav nav-tabs card-header-tabs"},S.a.createElement("li",{className:"nav-item"},S.a.createElement("a",{className:"nav-link active","data-toggle":"tab",href:"#options"},"Options")))),S.a.createElement("div",{className:"card-body"},S.a.createElement("div",{className:"tab-content",style:{maxHeight:"".concat(550,"px"),overflow:"auto",overflowX:"auto"}},S.a.createElement("h5",{className:"card-title"},"Select a Parent Board"),S.a.createElement("form",{onSubmit:this.onSubmit},S.a.createElement("div",{className:"row"},n.filter(function(e){return e.id!==a.id}).map(function(e){return S.a.createElement("div",{className:"col-lrg-3",key:e.id},S.a.createElement(Qt,{dashboard:e,selection:r,handleClick:t.handleClick,key:e.id}))}),S.a.createElement("div",{className:"card m-3",style:null==r?{border:"2px solid ".concat(ze)}:{border:"1px solid rgba(0,0,0,.125)"},onClick:function(){t.handleClick(null)}},S.a.createElement("div",{className:"card-body"},S.a.createElement("h5",{className:"card-title"},"None")))),S.a.createElement("div",{className:"modal-footer"},S.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),S.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Confirm")))))))))))}}]),t}();an.propTypes={updateActionTable:m.a.func.isRequired,actionTable:m.a.object.isRequired,dashboards:m.a.array.isRequired,currentDashboard:m.a.object.isRequired};var rn=Object(d.b)(null,{updateActionTable:function(n,a,r){return function(t,e){y.a.patch("api/actionTable/".concat(a,"/?parent=").concat(r||"null"),n,c(e)).then(function(e){t(o({updateActionTable:"Connection Made"})),t({type:X,payload:e.data})})}}})(an),on=n(51),cn=n(81);function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function sn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fn=function(){function o(){var e,t,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return sn(d,(t=d=sn(this,(e=pn(o)).call.apply(e,[this].concat(a))),d.state={letter:"",problem:"",root_cause:"",solution:"",leader:"",date:new Date},d.update=function(e){d.setState(e)},d.onChange=function(e){return d.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.target.name,e.target.value))},d.onDateChange=function(e){d.setState({date:e})},d.onSubmit=function(e){e.preventDefault();var t=d.state,n=t.letter,a=t.problem,r=t.root_cause,o=t.solution,i=t.leader,c=t.date,l=d.props,u=l.action,s=l.updateAction,p={letter:n,problem:a,root_cause:r,solution:o,leader:i};p.date=Object(cn.a)(c,"yyyy-MM-dd"),s(p,u.id),d.setState({letter:"",problem:"",root_cause:"",solution:"",leader:"",date:Object(on.a)("2019-01-01")}),$("#actionOptions").modal("hide")},d.delete=function(){var e=d.props;(0,e.deleteAction)(e.action.id),$("#actionOptions").modal("hide")},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(o,O["Component"]),function(e,t,n){t&&un(e.prototype,t),n&&un(e,n)}(o,[{key:"componentDidUpdate",value:function(e){var t=this.props.action;if(e.action!==t){if(!t)return;this.update({letter:t.letter||"",problem:t.problem||"",root_cause:t.root_cause||"",solution:t.solution||"",leader:t.leader||"",date:t.date?Object(on.a)(t.date):new Date})}}},{key:"render",value:function(){var t=this,e=this.state,n=e.letter,a=e.problem,r=e.root_cause,o=e.solution,i=e.leader,c=e.date;return S.a.createElement(O.Fragment,null,S.a.createElement("h2",null,"Edit Action"),S.a.createElement("form",{onSubmit:this.onSubmit},S.a.createElement("div",{className:"row justify-content-between"},S.a.createElement("div",{className:"col-sm-6"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"letter"},"Letter"),S.a.createElement("input",{className:"form-control",type:"text",name:"letter",onChange:this.onChange,value:n||""})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"problem"},"Problem"),S.a.createElement("input",{className:"form-control",type:"text",name:"problem",onChange:this.onChange,value:a})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"root_cause"},"Root Cause"),S.a.createElement("input",{className:"form-control",type:"text",name:"root_cause",onChange:this.onChange,value:r})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"solution"},"Solution"),S.a.createElement("input",{className:"form-control",type:"text",name:"solution",onChange:this.onChange,value:o}))),S.a.createElement("div",{className:"col-sm-5"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"leader"},"Leader"),S.a.createElement("input",{className:"form-control",type:"text",name:"leader",onChange:this.onChange,value:i})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"date",className:"d-block"},"Date"),S.a.createElement(kt.a,{className:"form-control",onChange:function(e){return t.onDateChange(e)},selected:c,dateFormat:"yyyy-MM-dd"}))),S.a.createElement("div",{className:"col-sm-12 d-flex justify-content-end"},S.a.createElement("button",{type:"button",className:"btn\r btn-danger mr-4",onClick:this.delete},"Delete"),S.a.createElement("button",{type:"submit",className:"btn\r btn-primary"},"Submit")))))}}]),o}();fn.propTypes={action:m.a.object,updateAction:m.a.func.isRequired,deleteAction:m.a.func.isRequired},fn.defaultProps={action:null};function mn(e){var t=e.action;return S.a.createElement("div",{className:"modal fade",id:"actionOptions",role:"dialog","aria-labelledby":"actionOptionsLabel","aria-hidden":"true"},S.a.createElement("div",{className:"modal-dialog",role:"document",style:{maxWidth:"fit-content"}},S.a.createElement("div",{className:"modal-content"},S.a.createElement("div",{className:"modal-header"},S.a.createElement("h1",{className:"modal-title",id:"actionOptionsLabel"},S.a.createElement("span",{className:"im im-pin",style:{fontSize:"".concat(2.5,"rem"),verticalAlign:"-0.1em"}}),"  ","Edit Action"),S.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},S.a.createElement("span",{"aria-hidden":"true"},"×"))),S.a.createElement("div",{className:"modal-body",style:{padding:0}},S.a.createElement("div",{className:"card"},S.a.createElement("div",{className:"card-body"},S.a.createElement(bn,{action:t})))))))}var bn=Object(d.b)(null,{updateAction:Fe,deleteAction:Re})(fn);mn.propTypes={action:m.a.object};var yn=mn;function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var On=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?En(e):t}(this,gn(n).call(this,e))).update=t.update.bind(En(t)),t.delete=t.delete.bind(En(t)),t.insert=t.insert.bind(En(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(n,O["Component"]),function(e,t,n){t&&vn(e.prototype,t),n&&vn(e,n)}(n,[{key:"update",value:function(e,t){(0,this.props.updateAudit)(e,t)}},{key:"insert",value:function(){var e=this.props;(0,e.addAudit)({description:null,date:null,dashboard:e.dashboardId})}},{key:"delete",value:function(e){(0,this.props.deleteAudit)(e)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.editable,a=e.appendable,r=e.rowClick,o=e.deletable;return S.a.createElement(Lt,{editable:n,appendable:a,data:t,header:lt,update:this.update,delete:this.delete,insert:this.insert,rowClick:r,deletable:o,fontSize:"0.6rem",summary:!0})}}]),n}();On.propTypes={data:m.a.array,editable:m.a.bool,rowClick:m.a.func,deletable:m.a.bool};var Sn=Object(d.b)(null,{updateAudit:Ie,deleteAudit:Me,addAudit:function(n){return function(t,e){y.a.post("api/audit/",n,c(e)).then(function(e){t(o({addAudit:"Audit Added!"})),t({type:te,payload:e.data})}).catch(function(e){t(o({invalidForm:"Form is invalid"})),t(i(e.response.data,e.response.status))})}}})(On);function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}On.defaultProps={hoverable:!1,editable:!1,deletable:!1,appendable:!1,rowClick:null};var Pn=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jn(this,Nn(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(t,O["Component"]),function(e,t,n){t&&kn(e.prototype,t),n&&kn(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconClass,a=e.id,r=e.children,o=e.overflow;return S.a.createElement(O.Fragment,null,S.a.createElement("div",{className:"modal fade",id:a,role:"dialog","aria-labelledby":"".concat(a,"Label"),"aria-hidden":"true"},S.a.createElement("div",{className:"modal-dialog",role:"document",style:{maxWidth:"fit-content",overflow:"visible"}},S.a.createElement("div",{className:"modal-content",style:{overflow:o||"visible"}},S.a.createElement("div",{className:"modal-header"},S.a.createElement("h1",{className:"modal-title",id:"".concat(a,"Label")},S.a.createElement("span",{className:n,style:{fontSize:"".concat(2.5,"rem"),verticalAlign:"-0.1em"}}),"  ",t),S.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},S.a.createElement("span",{"aria-hidden":"true"},"×"))),S.a.createElement("div",{className:"modal-body",style:{padding:0}},S.a.createElement("div",{className:"card"},S.a.createElement("div",{className:"card-body"},r)))))))}}]),t}();function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function An(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var In=function(){function o(){var e,t,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return An(u,(t=u=An(this,(e=Rn(o)).call.apply(e,[this].concat(a))),u.state={description:"",start_date:new Date,end_date:new Date},u.onUpdate=function(e){e()},u.onChange=function(e){return u.setState(Tn({},e.target.name,e.target.value))},u.onDateChange=function(e,t){u.setState(Tn({},t,e))},u.onSubmit=function(e){e.preventDefault();var t=u.state,n=t.description,a=t.start_date,r=t.end_date,o=u.props,i=o.audit,c=o.updateAudit,l={description:n};l.start_date=Object(cn.a)(a,"yyyy-MM-dd"),l.end_date=Object(cn.a)(r,"yyyy-MM-dd"),c(l,i.id),u.setState({description:"",start_date:Object(on.a)("2019-01-01"),end_date:Object(on.a)("2019-01-01")}),$("#auditOptions").modal("hide")},u.delete=function(){var e=u.props;(0,e.deleteAudit)(e.audit.id),$("#auditOptions").modal("hide")},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(o,O["Component"]),function(e,t,n){t&&xn(e.prototype,t),n&&xn(e,n)}(o,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.audit;if(e.audit!==n){if(!n)return;this.onUpdate(function(){t.setState({description:n.description,start_date:n.start_date?Object(on.a)(n.start_date):new Date,end_date:n.end_date?Object(on.a)(n.end_date):new Date})})}}},{key:"render",value:function(){var t=this,e=this.state,n=e.description,a=e.end_date,r=e.start_date;return S.a.createElement("form",{onSubmit:this.onSubmit},S.a.createElement("div",{className:"row justify-content-between"},S.a.createElement("div",{className:"col-sm-12"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"description"},"Description"),S.a.createElement("input",{className:"form-control",type:"text",name:"description",onChange:this.onChange,value:n||""})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"start_date",className:"d-block"},"Start Date"),S.a.createElement(kt.a,{className:"form-control",onChange:function(e){return t.onDateChange(e,"start_date")},selected:r,dateFormat:"yyyy-MM-dd"})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"end_date",className:"d-block"},"End Date"),S.a.createElement(kt.a,{className:"form-control",onChange:function(e){return t.onDateChange(e,"end_date")},selected:a,dateFormat:"yyyy-MM-dd"}))),S.a.createElement("div",{className:"col-sm-12 d-flex justify-content-end"},S.a.createElement("button",{type:"button",className:"btn\r btn-danger mr-4",onClick:this.delete},"Delete"),S.a.createElement("button",{type:"submit",className:"btn\r btn-primary"},"Submit"))))}}]),o}();In.propTypes={audit:m.a.object,updateAudit:m.a.func.isRequired,deleteAudit:m.a.func.isRequired};var Mn=Object(d.b)(null,{updateAudit:Ie,deleteAudit:Me})(In);function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wn=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?Kn(e):t}(this,Ln(n).call(this,e))).update=t.update.bind(Kn(t)),t.delete=t.delete.bind(Kn(t)),t.insert=t.insert.bind(Kn(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(n,O["Component"]),function(e,t,n){t&&Un(e.prototype,t),n&&Un(e,n)}(n,[{key:"update",value:function(e,t){(0,this.props.updateWin)(e,t)}},{key:"insert",value:function(){var e=this.props;(0,e.addWin)({description:null,participants:null,date:null,dashboard:e.dashboardId})}},{key:"delete",value:function(e){(0,this.props.deleteWin)(e)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.editable,a=e.appendable,r=e.rowClick,o=e.deletable;return S.a.createElement(Lt,{editable:n,appendable:a,data:t,header:ut,update:this.update,delete:this.delete,insert:this.insert,rowClick:r,deletable:o,fontSize:"0.6rem",summary:!0})}}]),n}();Wn.propTypes={data:m.a.array,editable:m.a.bool,rowClick:m.a.func,deletable:m.a.bool};var zn=Object(d.b)(null,{updateWin:qe,deleteWin:Ue,addWin:function(n){return function(t,e){y.a.post("api/win/",n,c(e)).then(function(e){t(o({addWin:"Win Added!"})),t({type:oe,payload:e.data})}).catch(function(e){t(o({invalidForm:"Form is invalid"})),t(i(e.response.data,e.response.status))})}}})(Wn);function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gn(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Wn.defaultProps={hoverable:!1,editable:!1,deletable:!1,appendable:!1,rowClick:null};var Xn=function(){function o(){var e,t,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return Gn(u,(t=u=Gn(this,(e=Yn(o)).call.apply(e,[this].concat(a))),u.state={description:"",participants:"",date:new Date},u.onUpdate=function(e){e()},u.onChange=function(e){return u.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.target.name,e.target.value))},u.onDateChange=function(e){u.setState({date:e})},u.onSubmit=function(e){e.preventDefault();var t=u.state,n=t.description,a=t.date,r=t.participants,o=u.props,i=o.win,c=o.updateWin,l={description:n,participants:r};l.date=Object(cn.a)(a,"yyyy-MM-dd"),c(l,i.id),u.setState({description:"",date:Object(on.a)("2019-01-01")}),$("#winOptions").modal("hide")},u.delete=function(){var e=u.props;(0,e.deleteWin)(e.win.id),$("#winOptions").modal("hide")},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(o,O["Component"]),function(e,t,n){t&&Bn(e.prototype,t),n&&Bn(e,n)}(o,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.win;if(e.win!==n){if(!n)return;this.onUpdate(function(){t.setState({description:n.description,participants:n.participants,date:n.date?Object(on.a)(n.date):new Date})})}}},{key:"render",value:function(){var t=this,e=this.state,n=e.description,a=e.date,r=e.participants;return S.a.createElement("form",{onSubmit:this.onSubmit},S.a.createElement("div",{className:"row justify-content-between"},S.a.createElement("div",{className:"col-sm-12"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"description"},"Description"),S.a.createElement("input",{className:"form-control",type:"text",name:"description",onChange:this.onChange,value:n||""})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"participants"},"Participants"),S.a.createElement("input",{className:"form-control",type:"text",name:"participants",onChange:this.onChange,value:r||""})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"date",className:"d-block"},"Date"),S.a.createElement(kt.a,{className:"form-control",onChange:function(e){return t.onDateChange(e)},selected:a,dateFormat:"yyyy-MM-dd"}))),S.a.createElement("div",{className:"col-sm-12 d-flex justify-content-end"},S.a.createElement("button",{type:"button",className:"btn\r btn-danger mr-4",onClick:this.delete},"Delete"),S.a.createElement("button",{type:"submit",className:"btn\r btn-primary"},"Submit"))))}}]),o}();Xn.propTypes={win:m.a.object,updateWin:m.a.func.isRequired,deleteWin:m.a.func.isRequired};var Qn=Object(d.b)(null,{updateWin:qe,deleteWin:Ue})(Xn);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ta(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ra=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ta(this,na(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(t,O["Component"]),function(e,t,n){t&&ea(e.prototype,t),n&&ea(e,n)}(t,[{key:"componentDidMount",value:function(){this.renderD3(),this.updateD3()}},{key:"componentDidUpdate",value:function(e){var t=this.props.heat;e.heat!=t&&this.updateD3()}},{key:"render",value:function(){var e=this.props.chart;return S.a.createElement("div",{className:"d-flex justify-content-center"}," ",e," ")}},{key:"renderD3",value:function(){var e=(0,this.props.connectFauxDOM)("svg","chart");Ze.m(e).attr("viewBox","0 0 ".concat(400," ").concat(130)).attr("height",130).attr("width",400).attr("preserveAspectRatio","xMidYMid meet").classed("svg-content",!0).attr("xmlns","http://www.w3.org/2000/svg").attr("xmlnsXlink","http://www.w3.org/1999/xlink")}},{key:"updateD3",value:function(){var e=this.props,t=e.connectFauxDOM,n=e.animateFauxDOM,a=e.heat,r=e.onClick,o=t("svg","chart"),i=Ze.m(o);if(a){var c=a.map(function(e){return e.value}),l=Ze.k().domain([Ze.h(c),Ze.g(c)]).range([30,50]),u=i.selectAll("text"),s=(u.data(a).enter().append("text").merge(u).attr("dx",function(e,t){return 56+120*t+-9*e.value.toString().length}).attr("dy",function(e,t){return 76}).style("opacity",1).text(function(e){return"".concat(e.value)}),i.selectAll("circle"));s.data(a).enter().append("circle").attr("r",0).merge(s).attr("cy",70).attr("cx",function(e,t){return 53+120*t}).style("opacity",.6).on("click",function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Zn(t,e,n[e])})}return t}({},e);t.value+=1,r(t,t.id)}).transition().duration(500).attr("r",function(e){return l(parseInt(e.value))}).transition().duration(500).style("fill",function(e){return e.color});n(2500)}}}]),t}();ra.defaultProps={chart:"Loading"};var oa=Object(et.withFauxDOM)(ra);function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){la(t,e,n[e])})}return t}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ua(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e,t){return(da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fa=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==ia(t)&&"function"!=typeof t?pa(e):t}(this,sa(n).call(this,e))).rowActionClick=t.rowActionClick.bind(pa(t)),t.rowAuditClick=t.rowAuditClick.bind(pa(t)),t.rowWinClick=t.rowWinClick.bind(pa(t)),t.resetHeat=t.resetHeat.bind(pa(t)),t.state={currentActionId:null,currentWinId:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&da(e,t)}(n,O["Component"]),function(e,t,n){t&&ua(e.prototype,t),n&&ua(e,n)}(n,[{key:"filterTables",value:function(t){var e=this.props.tables.filter(function(e){return e.title===t});return e?e[0]:null}},{key:"rowActionClick",value:function(e){this.setState({currentActionId:e}),$("#actionOptions").modal("show")}},{key:"rowAuditClick",value:function(e){this.setState({currentAuditId:e}),$("#auditOptions").modal("show")}},{key:"rowWinClick",value:function(e){this.setState({currentWinId:e}),$("#winOptions").modal("show")}},{key:"resetHeat",value:function(){var e=this.props,t=e.updateHeat,n=e.heat;for(var a in n){var r=ca({},n[a]);r.value=0,t(r,r.id)}}},{key:"render",value:function(){var e=this.props,t=e.tables,n=e.dashboards,a=e.currentDashboard,r=e.audits,o=e.wins,i=e.heat,c=e.updateHeat,l=this.state,u=l.currentActionId,s=l.currentAuditId,p=l.currentWinId,d=t.map(function(e){return e.actions.filter(function(e){return e.id===u})}).flat(),f=d?d[0]:null,m=r.filter(function(e){return e.id===s}),b=o.filter(function(e){return e.id===p}),y=m?m[0]:null,h=b?b[0]:null,v=this.filterTables("Upper Level Escalation"),g=this.filterTables("Lower Level Feed"),E=this.filterTables("Long Term Action Plan"),w=this.filterTables("Short Term Action Plan");return S.a.createElement(O.Fragment,null,S.a.createElement(yn,{action:f}),S.a.createElement(Pn,{title:"Update Audit",id:"auditOptions"},S.a.createElement(Mn,{audit:y})),S.a.createElement(Pn,{title:"Update WIN",id:"winOptions"},S.a.createElement(Qn,{win:h})),S.a.createElement("div",{className:"col-lg-6 p-0"},S.a.createElement("h2",{className:"ml-2 mb-1 color-text-action-plans"},"Action Plans",S.a.createElement("span",{className:"im im-date-o ml-3"})),S.a.createElement("div",{className:"card mt-1 ml-2 mr-2 border-action-plans"},S.a.createElement("div",{className:"card-body"},w?S.a.createElement(O.Fragment,null,S.a.createElement("h5",null," Short Term"),S.a.createElement(Xt,{data:w,header:st,appendable:!0,rowClick:this.rowActionClick})):S.a.createElement(Ke,null),E?S.a.createElement(O.Fragment,null,S.a.createElement("h5",{className:"mt-3"}," Long Term"),S.a.createElement(Xt,{data:E,header:st,appendable:!0,rowClick:this.rowActionClick})):S.a.createElement(Ke,null),v?S.a.createElement(O.Fragment,null,S.a.createElement("div",{className:"row",style:{padding:"0 1rem"}},S.a.createElement("h5",null,"Escalation"),S.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm mb-1 ml-auto",onClick:function(e){$("#escalationOptions").modal("show")}},"Manage Escalations")),S.a.createElement(Xt,{data:v,header:st,appendable:!0,rowClick:this.rowActionClick}),S.a.createElement(rn,{dashboards:n,currentDashboard:a,actionTable:this.filterTables("Upper Level Escalation")})):S.a.createElement(Ke,null),g?S.a.createElement(O.Fragment,null,S.a.createElement("h5",{className:"mt-3"}," Lower Level Feed"),S.a.createElement(Xt,{data:g,header:st,hoverable:!0})):S.a.createElement(Ke,null)))),S.a.createElement("div",{className:"col-lg-6 p-0"},S.a.createElement("div",{className:"row m-0"},S.a.createElement("div",{className:"col-lg-6"},S.a.createElement("h2",{className:"ml-2 mb-1 color-text-audits"},"Audits",S.a.createElement("span",{className:"im im-thumb-up ml-3"})),S.a.createElement("div",{className:"card mt-1 ml-2 mr-2 border-audits"},S.a.createElement("div",{className:"card-body"},S.a.createElement(Sn,{data:r,rowClick:this.rowAuditClick,appendable:!0,dashboardId:a.id}))),S.a.createElement("h2",{className:"ml-2 mt-4 mb-1 color-text-heat-check"},"Heat Check",S.a.createElement("span",{className:"im im-fire ml-3"})),S.a.createElement("div",{className:"card card-body ml-2 mt-1 mr-2 mb-4 border-heat-check"},S.a.createElement("div",{className:"row",style:{padding:"0px 1rem"}},S.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm mb-1 ml-auto",onClick:this.resetHeat},"Reset")),S.a.createElement(oa,{heat:i,onClick:c}))),S.a.createElement("div",{className:"col-lg-6"},S.a.createElement("h2",{className:"ml-2 mb-1 color-text-wins"},"Wins",S.a.createElement("span",{className:"im im-trophy ml-3"})),S.a.createElement("div",{className:"card mt-1 ml-2 mr-2 border-wins"},S.a.createElement("div",{className:"card-body"},S.a.createElement(zn,{data:o,rowClick:this.rowWinClick,appendable:!0,dashboardId:a.id})))))))}}]),n}();fa.propTypes={tables:m.a.array.isRequired,dashboards:m.a.arrayOf(m.a.object).isRequired,currentDashboard:m.a.object.isRequired,audit:m.a.array};var ma=Object(d.b)(function(e){return{currentDashboard:e.dashboards.currentDashboard}},{updateHeat:Le})(fa);function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ha(e,t){return!t||"object"!==ba(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ea=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ha(this,va(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(e,O["Component"]),function(e,t,n){t&&ya(e.prototype,t),n&&ya(e,n)}(e,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getADashboard,n=e.getKpis,a=e.getActionTable,r=e.getDashboards,o=e.getAudits,i=e.getWins,c=e.getHeat,l=this.props.match.params.id;r(),t(l),a(l),n(l),o(l),i(l),c(l)}},{key:"render",value:function(){var e=this.props,t=e.currentDashboard,n=e.kpis,a=e.actionTables,r=e.dashboards,o=e.audits,i=e.wins,c=e.heat,l=this.props.match.params.id;if(null==t)return S.a.createElement(Ke,null);var u=t.background;return S.a.createElement("div",{className:"container-fluid h-100",style:{padding:0,background:u,height:"".concat(100,"%")}},S.a.createElement("div",{className:"row",style:{margin:0}},S.a.createElement("div",{className:"col-lg-2 p-0"},S.a.createElement("div",{className:"card card-body ml-4 mt-4 mr-2 mb-4 border-pillars"},S.a.createElement(Ot,{kpis:n,dashboardId:l}))),S.a.createElement("div",{className:"col-lg-10 p-0"},S.a.createElement("div",{className:"row m-0"},S.a.createElement("div",{className:"col-lg-12 mt-4"},S.a.createElement("div",{className:"row"},t.images.length?S.a.createElement("div",{className:"col-lg-6 mb-4"},S.a.createElement(Je,{images:t.images})):S.a.createElement(S.a.Fragment,null))),S.a.createElement(ma,{tables:a,audits:o,wins:i,heat:c,dashboards:r})))))}}]),e}();Ea.propTypes={dashboards:m.a.array,kpis:m.a.array.isRequired,getDashboards:m.a.func.isRequired,getADashboard:m.a.func.isRequired,getKpis:m.a.func.isRequired,getActionTable:m.a.func.isRequired,currentDashboard:m.a.object,actionTables:m.a.arrayOf(m.a.object).isRequired},Ea.defaultProps={dashboards:null,currentDashboard:null};var wa=Object(d.b)(function(e){return{dashboards:e.dashboards.dashboards,kpis:e.dashboards.kpis,isAuthenticated:e.auth.isAuthenticated,actionTables:e.dashboards.actionTables,currentDashboard:e.dashboards.currentDashboard,audits:e.dashboards.audits,wins:e.dashboards.wins,heat:e.dashboards.heat}},{getKpis:Te,getDashboards:Ne,getADashboard:Pe,clearKpis:xe,getActionTable:function(e){var a=0<arguments.length&&void 0!==e?e:null;return function(t,e){var n=a?"/api/actionTable/?dashboard=".concat(a):"/api/actionTable/";y.a.get(n,c(e)).then(function(e){t({type:Q,payload:e.data})})}},getAudits:function(n){return function(t,e){y.a.get("api/audit/?dashboard=".concat(n),c(e)).then(function(e){t({type:ee,payload:e.data})})}},getWins:function(n){return function(t,e){y.a.get("api/win/?dashboard=".concat(n),c(e)).then(function(e){t({type:re,payload:e.data})})}},getHeat:function(n){return function(t,e){y.a.get("api/heat/?dashboard=".concat(n),c(e)).then(function(e){t({type:le,payload:e.data})})}},updateHeat:Le})(Ea);function Oa(){return(Oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Sa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _a(e){var t=e.component,n=e.auth,a=Sa(e,["component","auth"]);return S.a.createElement(u.b,Oa({},a,{render:function(e){return n.isLoading?S.a.createElement(Ke,null):!1===n.isAuthenticated?S.a.createElement(u.a,{to:"/login"}):S.a.createElement(t,e)}}))}_a.propTypes={component:m.a.object,auth:m.a.object};var ka=Object(d.b)(function(e){return{auth:e.auth}})(_a);function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Aa=10,Ra=150,Fa=30,Ia=50,Ma=1100-Ia-Ra,qa=600-Aa-Fa,Ua=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==ja(t)&&"function"!=typeof t?Ta(e):t}(this,Da(n).call(this,e))).renderD3=t.renderD3.bind(Ta(t)),t.updateD3=t.updateD3.bind(Ta(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(n,S.a.Component),function(e,t,n){t&&Pa(e.prototype,t),n&&Pa(e,n)}(n,[{key:"componentDidMount",value:function(){this.renderD3(),this.updateD3()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.kpis,a=t.selectedKpi;n===e.kpis&&a===e.selectedKpi||this.updateD3()}},{key:"render",value:function(){var e=this.props.chart;return S.a.createElement("div",null,e)}},{key:"renderD3",value:function(){var e=this.props,t=e.connectFauxDOM,n=e.selectSeries,a=t("svg","chart");var r=Ze.m(a).attr("id","chart").attr("viewBox","0 0 ".concat(Ma+Ia+Ra," ").concat(qa+Fa+Aa)).attr("preserveAspectRatio","xMidYMid meet").classed("svg-content",!0).attr("xmlns","http://www.w3.org/2000/svg").attr("xmlnsXlink","http://www.w3.org/1999/xlink").style("margin","20px 0").append("g").attr("id","plotArea").attr("transform","translate(".concat(Ia+30,",").concat(Fa,")"));r.append("rect").attr("width",Ma).attr("height",qa).style("opacity",0).attr("id","facade").on("click",function(){!function(e){null!=e&&(Ze.n(".line").attr("stroke-width",1.8),Ze.n(".dot").attr("r",3),Ze.n(".dot_".concat(e)).attr("r",5),Ze.m("#line_".concat(e)).attr("stroke-width",4.5),Ze.n(".legend").attr("font-weight","normal").attr("font-size","17"),Ze.m("#legend_".concat(e)).attr("font-weight","bold").attr("font-size","20"))}("null"),n(null)}),r.append("g").attr("class","myYaxis").style("color","black").style("font-size","0.8rem"),r.append("g").attr("class","myXaxis").attr("transform","translate(0, ".concat(qa-Fa,")")).style("color","black").style("font-size","0.8rem"),r.append("text").attr("x",0-Ia/4).attr("y",0-Aa).attr("id","y_unit").style("fill","black").attr("text-anchor","middle").style("font-size","15px"),r.append("text").attr("x",Ma/2).attr("id","title").attr("y",0-Aa/2).attr("text-anchor","middle").style("text-decoration","underline").style("font-size","31px").attr("fill",ze)}},{key:"updateD3",value:function(){var e,t=this.props,n=t.connectFauxDOM,a=t.kpis,r=t.selectSeries,o=t.animateFauxDOM,i=t.selectedKpi,c=n("svg","chart"),l=a.findIndex(function(e){return e.id==i}),u=a[l=-1==l?0:l]?a[l].series:[],s={};if(a[l]&&a[l].series){s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Ca(t,e,n[e])})}return t}({},a[l].series[0]);var p=Na(a[l].series[0].entries);s.id=Math.round(5e5*Math.random()),s.entries=p.map(function(e){return{value:e.target,date:e.date,target:e.target,id:Math.round(5e5*Math.random())}}),s.color="#008000",s.name="".concat(s.name," Threshold"),u=[s].concat(Na(u))}var d=Ze.p("%Y-%m-%d");for(e in u){u[e].entries.sort(function(e,t){return new Date(e.date)-new Date(t.date)})}var f=[];for(e in u)f.push(Ze.h(u[e].entries,function(e){return e.value}));var m=[];for(e in u)m.push(Ze.g(u[e].entries,function(e){return e.value}));var b=f.filter(function(e){return null!=e}),y=m.filter(function(e){return null!=e}),h=Ze.l().domain([new Date("2019-01-01"),new Date("2019-12-31")]).range([0,Ma]),v=Ze.k().domain(b.length?[.8*Ze.h(b),1.2*Ze.g(y)]:[0,100]).range([qa-Fa,0]),g=Ze.c(v),E=Ze.b(h).tickFormat(Ze.o("%b"));Ze.m(c).selectAll(".myXaxis").transition().duration(1e3).call(E),Ze.m(c).selectAll(".myYaxis").transition().duration(1e3).call(g);var w=Ze.f().y(function(e){return v(e.value)}).defined(function(e){return null!=e.value}).x(function(e){return h(d(e.date))}),O=Ze.m(c).select("#plotArea").selectAll(".line"),S=O.data(u);S.enter().append("path").merge(O).attr("d",function(e){return w(e.entries)}).style("opacity",1).attr("id",function(e){return"line_".concat(e.id)}).attr("class","line").attr("fill","none").attr("stroke-width",1.8).attr("stroke",function(e){return e.color});S.exit().remove(),Ze.m(c).selectAll(".dots").remove(),Ze.m(c).select("#plotArea").selectAll(".dots").data(u).enter().append("g").attr("class","dots").attr("data-id",function(e){return e.id}).style("fill",function(e){return Ze.j(e.color).darker(1)}).selectAll(".dot").data(function(e){return e.entries}).enter().append("circle").attr("cx",function(e){return h(d(e.date))}).attr("cy",function(e){return v(e.value?e.value:-50)}).attr("r",3).style("opacity",0).attr("class",function(e,t,n){var a=$(n).parent().attr("data-id");return"dot_".concat(a," ")+"dot"}).attr("stroke",function(e){return Ze.j(e.color).darker(1)}).attr("stroke-width","1").attr("stroke-opacity","0").transition().delay(500).duration(1e3).style("opacity",1),o(3e3),Ze.m(c).selectAll(".legend").remove(),Ze.m(c).selectAll(".legend").data(u).enter().append("g").attr("class","legend").attr("transform",function(e,t){return"translate(".concat(0,",",20*t,")")}).append("text").attr("x",Ma+Ra).attr("y",function(e,t){return qa/2+20*t}).attr("id",function(e){return"legend_".concat(e.id)}).attr("class","legend").style("opacity",1).style("cursor","pointer").attr("dy",".35em").attr("font-size",17).attr("fill",function(e){return e.color}).style("text-anchor","end").text(function(e){return e.name}).on("click",function(e){!function(e){Ze.n(".line").attr("stroke-width",1.8),Ze.n(".dot").attr("r",3),Ze.n(".dot_".concat(e)).attr("r",5),Ze.m("#line_".concat(e)).attr("stroke-width",4.5),Ze.n(".legend").attr("font-weight","normal").attr("font-size","17"),Ze.m("#legend_".concat(e)).attr("font-weight","bold").attr("font-size","20")}(e.id),r(e.id)}),Ze.m(c).select("#title").text(function(){return a[l]?a[l].name:""}),Ze.m(c).select("#y_unit").text(function(){return a[l]&&a[l].unit||""}),Ze.m(c).select("#plotArea").selectAll("#curtain").remove(),Ze.m(c).select("#plotArea").append("rect").attr("id","curtain").style("fill","#ffffff").attr("x",0).attr("width",Ma).attr("height",qa-Fa).transition().delay(500).ease(Ze.d).duration(4e3).attr("x",5+Ma),o(9e3)}}]),n}();Ua.propTypes={kpis:m.a.array.isRequired,selectSeries:m.a.func.isRequired,chart:m.a.oneOfType([m.a.string,m.a.object]),selectedKpi:m.a.number,connectFauxDOM:m.a.func.isRequired,animateFauxDOM:m.a.func.isRequired},Ua.defaultProps={chart:"Loading",selectedKpi:null};function La(t,e,n){if(!e)return null;var a=e.filter(function(e){return e[n]==t});return a.length?a[0]:null}var Ka=Object(et.withFauxDOM)(Ua);function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function za(e,t){return!t||"object"!==Ha(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ga=function(){function i(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return za(o,(t=o=za(this,(e=$a(i)).call.apply(e,[this].concat(a))),o.onChange=function(e){var t=o.props,n=t.selectKpi,a=t.selectSeries,r=t.deselect;n(e.target.value),a(null),r()},o.openKpiNew=function(){$("#newKpi").modal("show")},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(i,O["Component"]),function(e,t,n){t&&Wa(e.prototype,t),n&&Wa(e,n)}(i,[{key:"componentDidUpdate",value:function(e){var t=this.props.selectKpi;!e.kpis[0]&&this.props.kpis[0]&&t(this.props.kpis[0].id)}},{key:"render",value:function(){var e=this.props,t=e.kpis,n=e.changeMenu,a=e.menuMode,r=e.kpi;return S.a.createElement(O.Fragment,null,S.a.createElement("h4",{style:{height:"fit-content",marginBottom:0,lineHeight:1.4},className:"mt-auto mb-auto"},"KPI:"," "),S.a.createElement("select",{className:"form-control ml-2 mt-auto mb-auto",style:{width:"".concat(200,"px")},onChange:this.onChange},t.map(function(e){return S.a.createElement("option",{key:"choice-".concat(e.id),value:e.id},e.name)})),S.a.createElement("button",{type:"button",className:"btn btn-success btn-sm mt-auto ml-3",style:{padding:"1px 8px"},onClick:this.openKpiNew},S.a.createElement("i",{className:"im im-plus",style:{lineHeight:"1.5",fontSize:"20px"}})),r&&S.a.createElement(S.a.Fragment,null,S.a.createElement("button",{type:"button",className:"btn btn-sm mt-auto ml-auto ".concat(a?"btn-secondary":"btn-primary"),onClick:function(){return n(!1)},style:{padding:"1px 8px"},disabled:!a},S.a.createElement("i",{className:"im im-line-chart-up",style:{lineHeight:"1.5",fontSize:"20px"}})),S.a.createElement("button",{type:"button",className:"btn btn-sm mt-auto ml-2 ".concat(a?"btn-primary":"btn-secondary"),onClick:function(){return n(!0)},style:{padding:"1px 8px"},disabled:!!a},S.a.createElement("i",{className:"im im-gear",style:{lineHeight:"1.5",fontSize:"20px"}}))," "))}}]),i}(),Ya=n(188);function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qa(e,t){return!t||"object"!==Va(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var er=function(){function o(){var e,t,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return Qa(i,(t=i=Qa(this,(e=Ja(o)).call.apply(e,[this].concat(a))),i.state={name:"",color:"",plot_type:"li"},i.onChangeColor=function(e){i.setState({color:e.hex})},i.update=function(e){i.setState({name:e.name,color:e.color,plot_type:e.plot_type})},i.onSubmit=function(e){e.preventDefault();var t=i.props,n=t.kpi,a=t.series,r=t.updateSeries,o=i.state;r({name:o.name,color:o.color,plot_type:o.plot_type,kpi:n},a.id)},i.onChange=function(e){i.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.target.name,e.target.value))},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(o,O["Component"]),function(e,t,n){t&&Xa(e.prototype,t),n&&Xa(e,n)}(o,[{key:"componentDidMount",value:function(){var e=this.props.series;this.setState({name:e.name,color:e.color,plot_type:e.plot_type})}},{key:"componentDidUpdate",value:function(e){var t=this.props.series;t!==e.series&&this.update(t)}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.color,a=e.plot_type;return S.a.createElement(O.Fragment,null,S.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0,className:"w-100"},S.a.createElement("div",{className:"row m-0"},S.a.createElement("div",{className:"col-sm-6"},S.a.createElement("div",{className:"d-flex flex-column"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"name"},"Name"),S.a.createElement("input",{className:"form-control",type:"text",name:"name",onChange:this.onChange,placeholder:"...",value:t,required:!0})),S.a.createElement("div",{className:"form-group mt-4"},S.a.createElement("label",{htmlFor:"plot_type"},"Plot Type"),S.a.createElement("select",{className:"form-control",type:"text",name:"plot_type",onChange:this.onChange,placeholder:"...",value:a,required:!0},tt.map(function(e){return S.a.createElement("option",{key:"choice-".concat(e.id),value:e.id},e.name)}))))),S.a.createElement("div",{className:"col-sm-4 m-auto"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"color"},"Color"),S.a.createElement(Ya.ChromePicker,{color:n,onChangeComplete:this.onChangeColor})))),S.a.createElement("button",{type:"submit",className:"btn btn-success"},"Save Changes")))}}]),o}();er.propTypes={updateSeries:m.a.func.isRequired};var tr=Object(d.b)(null,{updateSeries:function(n,a){return function(t,e){y.a.patch("/api/series/".concat(a,"/"),n,c(e)).then(function(e){t(o({updateSeries:"Series Updated"})),t({type:H,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}})(er);function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cr=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==nr(t)&&"function"!=typeof t?or(e):t}(this,rr(n).call(this,e))).formatRow=function(e){var t=new Date,n=new Date(e.date);if(n.getTime()<=t.getTime()){if(!e.value)return"table-danger"}else if(n.getTime()<=t.setDate(t.getDate()+5))return"table-warning";return""},t.update=t.update.bind(or(t)),t.delete=t.delete.bind(or(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(n,O["Component"]),function(e,t,n){t&&ar(e.prototype,t),n&&ar(e,n)}(n,[{key:"delete",value:function(e){alert("Cannot Delete Datapoint")}},{key:"update",value:function(e,t){this.props.updateDatapoint(e,t)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.header,a=e.rowClick;return S.a.createElement(Lt,{data:t,header:n,update:this.update,rowClick:a,formatRow:this.formatRow})}}]),n}();cr.propTypes={data:m.a.array.isRequired,header:m.a.array},cr.defaultProps={header:[{name:"Value",prop:"value"},{name:"Target",prop:"target"},{name:"Date",prop:"date"}]};var lr=Object(d.b)(null,{updateDatapoint:Ae,deleteDatapoint:function(n){return function(e,t){y.a.delete("/api/datapoint/".concat(n,"/"),c(t)).then(function(){e(o({deleteDatapoint:"Datapoint Deleted"})),e({type:W,payload:n})})}}})(cr);function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){pr(t,e,n[e])})}return t}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fr(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yr=function(){function o(){var e,t,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return fr(u,(t=u=fr(this,(e=mr(o)).call.apply(e,[this].concat(a))),u.state={value:"",target:"",date:new Date},u.update=function(e){u.setState(sr({},e))},u.onSubmit=function(e){e.preventDefault();var t=u.props,n=t.updateDatapoint,a=t.series,r=u.state,o=r.value,i=r.target,c=r.date,l=r.id;n({value:o,target:i,series:a,date:Object(cn.a)(c,"yyyy-MM-dd")},l),$("#dataOptions").modal("hide")},u.onChange=function(e){u.setState(pr({},e.target.name,e.target.value))},u.onDateChange=function(e){u.setState({date:e})},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(o,O["Component"]),function(e,t,n){t&&dr(e.prototype,t),n&&dr(e,n)}(o,[{key:"componentDidUpdate",value:function(e){var t=this.props.datapoint;e.datapoint!==t&&this.update(sr({},t,{date:t.date?Object(on.a)(t.date):new Date}))}},{key:"render",value:function(){var t=this,e=this.state,n=e.value,a=e.target,r=e.date;return S.a.createElement(O.Fragment,null,S.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"name"},"Value"),S.a.createElement("input",{className:"form-control",type:"text",name:"value",onChange:this.onChange,placeholder:"...",value:null!=n?n:""})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"plot_type"},"Target"),S.a.createElement("input",{className:"form-control",type:"text",name:"target",onChange:this.onChange,placeholder:"...",value:null!=a?a:""})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"date",className:"d-block"},"Date"),S.a.createElement(kt.a,{className:"form-control",onChange:function(e){return t.onDateChange(e)},selected:r,dateFormat:"yyyy-MM-dd"})),S.a.createElement("div",{className:"modal-footer"},S.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),S.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Update Datapoint"))))}}]),o}();yr.propTypes={datapoint:m.a.object,updateDatapoint:m.a.func.isRequired,series:m.a.number},yr.defaultProps={datapoint:null,series:null};var hr=Object(d.b)(null,{updateDatapoint:Ae})(yr);function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sr=function(){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==vr(t)&&"function"!=typeof t?wr(e):t}(this,Er(t).call(this,e))).state={selectedDatapoint:null},r.setRemove=function(){$("#removeConfirmation").modal("show")},r.onSubmitRemove=function(e){var t=r.props,n=t.series,a=t.deleteSeries;return e.name===n.name&&(a(n.id),!0)},r.selectDatapoint=function(e){r.setState({selectedDatapoint:e}),$("#dataOptions").modal("show")},r.onSubmitRemove=r.onSubmitRemove.bind(wr(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(t,O["Component"]),function(e,t,n){t&&gr(e.prototype,t),n&&gr(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setRemove)({type:"series",item:e.series,onSubmit:this.onSubmitRemove})}},{key:"render",value:function(){var e=this.props,t=e.series,n=e.onBack,a=this.state.selectedDatapoint;if(!t)return S.a.createElement(S.a.Fragment,null);var r={};return t.entries&&(r=La(a,t.entries,"id")),S.a.createElement(O.Fragment,null,S.a.createElement("button",{className:"mb-4 btn btn-sm btn-primary",onClick:n,style:{padding:"1px 8px",position:"fixed",zIndex:1e3}},S.a.createElement("i",{className:"im im-arrow-left icon",style:{lineHeight:1.5,fontSize:"20px"}})),S.a.createElement("h3",null,"Properties"),S.a.createElement("div",{className:"d-flex"},S.a.createElement(tr,{series:t})),S.a.createElement("hr",null),S.a.createElement("h3",{className:"mt-4"},"Data"),S.a.createElement(lr,{data:t.entries,rowClick:this.selectDatapoint}),S.a.createElement(Pn,{title:"Update Data",id:"dataOptions",overflow:"visible"},S.a.createElement(hr,{datapoint:r,series:t.id})),S.a.createElement("div",{className:"d-flex justify-content-end"},S.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.setRemove},"Delete Series")))}}]),t}(),_r=Object(d.b)(null,{deleteSeries:function(n){return function(e,t){y.a.delete("/api/series/".concat(n,"/"),c(t)).then(function(){e(o({deleteSeries:"Series Deleted"})),e({type:K,payload:n})})}}})(Sr);function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Nr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){var t=e.handleClick;return e.text,S.a.createElement("div",{className:"card m-3 text-center icon",onClick:t},S.a.createElement("div",{className:"card-body",style:{paddingBottom:"-1rem !important"}},S.a.createElement("div",{className:"d-flex h-100 w-100"},S.a.createElement("div",{className:"m-auto"},S.a.createElement("i",{className:" im im-plus"})))))}var Tr=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Nr(this,Cr(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(e,O["Component"]),function(e,t,n){t&&jr(e.prototype,t),n&&jr(e,n)}(e,[{key:"render",value:function(){var e=this.props,t=e.series,n=e.onClick;return S.a.createElement("div",{className:"card m-3 card-hover",onClick:function(){return n(t.id)},"data-toggle":"modal","data-target":"#manageKpi"},S.a.createElement("div",{className:"card-body"},S.a.createElement("div",{className:"d-flex"},S.a.createElement("div",{className:"card-title",style:{fontSize:"1.25rem",fontWeight:"bold"}},t.name," "),S.a.createElement("i",{style:{color:t.color,textAlign:"right"},className:"im im-drop ml-auto"}))))}}]),e}();function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Rr(e,t){return!t||"object"!==xr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mr=function(){function i(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return Rr(n,(t=n=Rr(this,(e=Fr(i)).call.apply(e,[this].concat(r))),n.onNewSeriesClick=function(e){var t=n.props;(0,t.addSeries)({kpi:t.kpiId,color:"#000",name:"My Series",plot_type:"li"})},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(i,O["Component"]),function(e,t,n){t&&Ar(e.prototype,t),n&&Ar(e,n)}(i,[{key:"render",value:function(){var e=this.props,t=e.series,n=e.onClick;return t?S.a.createElement("div",{className:"row"},t.map(function(e){return S.a.createElement("div",{key:e.id,className:"col-sm-3"},S.a.createElement(Tr,{onClick:n,series:e}))}),S.a.createElement("div",{className:"col-sm-3"},S.a.createElement(Dr,{handleClick:this.onNewSeriesClick,text:"Series"}))):S.a.createElement("div",null)}}]),i}(),qr=Object(d.b)(null,{addSeries:function(t){return function(n,e){y.a.post("/api/series/",t,c(e)).then(function(e){n(o({addSeries:"Series Added!"}));var t=e.data.entries.length;n(o({entriesCreated:"".concat(t," Entries Created")})),n({type:U,payload:e.data})}).catch(function(e){n(i(e.response.data,e.response.status)),n(o({invalidForm:"Form is invalid"}))})}}})(Mr),Ur=n(59);function Lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr={position:"absolute",width:"100%",height:42,transform:"translate(0%, -50%)",borderRadius:7,cursor:"pointer"},zr={position:"absolute",width:"100%",height:14,transform:"translate(0%, -50%)",borderRadius:7,pointerEvents:"none",backgroundColor:"#218838"};function $r(e){var t=e.getRailProps,n=e.color,a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Hr(t,e,n[e])})}return t}({},zr);return a.backgroundColor=n,S.a.createElement(O.Fragment,null,S.a.createElement("div",Kr({style:Wr},t())),S.a.createElement("div",{style:a}))}function Br(e){var t=Lr(e.domain,2),n=t[0],a=t[1],r=e.handle,o=r.id,i=r.value,c=r.percent,l=e.disabled,u=e.getHandleProps,s=e.noDisplay;return S.a.createElement(O.Fragment,null,S.a.createElement("div",Kr({style:{left:"".concat(c,"%"),position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:l?0:5,pointerEvents:l?"none":"auto",width:28,height:42,cursor:"pointer",backgroundColor:"none"}},u(o))),S.a.createElement("div",{role:"slider","aria-valuemin":n,"aria-valuemax":a,"aria-valuenow":i,style:{left:"".concat(c,"%"),position:"absolute",transform:"translate(-50%, -50%)",zIndex:2,width:s?0:20,height:s?0:20,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.3)",backgroundColor:l?"#666":"#ffc400"}}))}function Gr(e){var t=e.source,n=e.target,a=e.getTrackProps,r=e.disabled,o=e.color;return S.a.createElement("div",Kr({style:{position:"absolute",transform:"translate(0%, -50%)",height:14,zIndex:1,backgroundColor:r?"#999":o,borderRadius:7,cursor:"pointer",left:"".concat(t.percent,"%"),width:"".concat(n.percent-t.percent,"%")}},a()))}function Yr(e){var t=e.tick,n=e.count,a=e.format,r=e.prefix,o=e.suffix,i=e.name;return S.a.createElement("div",null,S.a.createElement("div",{style:{position:"absolute",marginTop:14,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:"".concat(t.percent,"%")}}),S.a.createElement("div",{style:{position:"absolute",marginTop:22,fontSize:10,textAlign:"center",marginLeft:"".concat(-100/n/2,"%"),width:"".concat(100/n,"%"),left:"".concat(t.percent,"%")}},i||a("".concat(r).concat(t.value).concat(o))))}function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}$r.propTypes={getRailProps:m.a.func.isRequired},Br.propTypes={domain:m.a.array.isRequired,handle:m.a.shape({id:m.a.string.isRequired,value:m.a.number.isRequired,percent:m.a.number.isRequired}).isRequired,getHandleProps:m.a.func.isRequired,disabled:m.a.bool},Br.defaultProps={disabled:!1},m.a.array.isRequired,m.a.shape({id:m.a.string.isRequired,value:m.a.number.isRequired,percent:m.a.number.isRequired}).isRequired,m.a.func.isRequired,m.a.bool,Gr.propTypes={source:m.a.shape({id:m.a.string.isRequired,value:m.a.number.isRequired,percent:m.a.number.isRequired}).isRequired,target:m.a.shape({id:m.a.string.isRequired,value:m.a.number.isRequired,percent:m.a.number.isRequired}).isRequired,getTrackProps:m.a.func.isRequired,disabled:m.a.bool},Gr.defaultProps={disabled:!1},Yr.propTypes={tick:m.a.shape({id:m.a.string.isRequired,value:m.a.number.isRequired,percent:m.a.number.isRequired}).isRequired,count:m.a.number.isRequired,format:m.a.func.isRequired},Yr.defaultProps={format:function(e){return e},prefix:"",suffix:""};var eo={position:"relative",width:"100%"},to=[0,100],no=function(){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=function(e,t){return!t||"object"!==Vr(t)&&"function"!=typeof t?Jr(e):t}(this,Qr(r).call(this,e)),ao.call(Jr(t));var n=t.props,a=[0,n.danger_deviation,n.safe_deviation,100];return t.state={values:a.slice(),update:a.slice()},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}(r,O["Component"]),function(e,t,n){t&&Xr(e.prototype,t),n&&Xr(e,n)}(r,[{key:"render",value:function(){var e=this.state,t=e.values;e.update;return S.a.createElement("div",{className:"mt-5",style:{height:70,width:"95%"}},S.a.createElement(Ur.c,{mode:1,step:1,domain:to,rootStyle:eo,onUpdate:this.onUpdate,onChange:this.onChange,values:t},S.a.createElement(Ur.b,null,function(e){var t=(0,e.getRailProps)();return t.onMouseDown=function(){},t.onTouchStart=function(){},S.a.createElement($r,{getRailProps:function(){},color:"#218838"})}),S.a.createElement(Ur.a,null,function(e){var t=e.handles,a=e.getHandleProps;return S.a.createElement("div",{className:"slider-handles"},t.map(function(e,t,n){return 0===t?S.a.createElement(Br,{key:e.id,handle:e,domain:to,getHandleProps:function(){},disabled:!0}):t+1===n.length?S.a.createElement(Br,{key:e.id,handle:e,domain:to,getHandleProps:function(){},disabled:!0,noDisplay:!0}):S.a.createElement(Br,{key:e.id,handle:e,domain:to,getHandleProps:a})}))}),S.a.createElement(Ur.e,{left:!1,right:!1},function(e){var t=e.tracks;e.getTrackProps;return S.a.createElement("div",{className:"slider-tracks"},t.map(function(e,t,n){var a=e.id,r=e.source,o=e.target;return 0===t?S.a.createElement(Gr,{key:a,source:r,target:o,getTrackProps:function(){},color:"#218838"}):t+1===n.length?S.a.createElement(Gr,{key:a,source:r,target:o,getTrackProps:function(){},color:"#ff0000"}):S.a.createElement(Gr,{key:a,source:r,target:o,getTrackProps:function(){},color:"#b28900"})}))}),S.a.createElement(Ur.d,{count:5},function(e){var a=e.ticks;return S.a.createElement("div",{className:"slider-ticks"},a.map(function(e,t,n){return 0===t?S.a.createElement(Yr,{key:e.id,tick:e,count:a.length,name:"Target"}):S.a.createElement(Yr,{key:e.id,tick:e,count:a.length,prefix:"+/-",suffix:"%"})}))})))}}]),r}(),ao=function(){var t=this;this.onUpdate=function(e){(0,t.props.onUpdate)(e)},this.onChange=function(e){t.setState({values:e})}},ro=no;function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uo(e,t){return(uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var so={position:"relative",width:"100%"},po=function(){function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=function(e,t){return!t||"object"!==oo(t)&&"function"!=typeof t?lo(e):t}(this,co(a).call(this,e)),fo.call(lo(t));var n=t.getValues();return t.state={values:n,update:n},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(a,O["Component"]),function(e,t,n){t&&io(e.prototype,t),n&&io(e,n)}(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.target,a=t.threshold_type;if(e.target!==n||e.threshold_type!==a){var r=this.props,o=r.target,i=(r.warning_margin,r.threshold_type),c=[0,0],l=parseInt(o);c=o?0===i?[Math.round(l-.5*l),l,2*l]:[l,Math.round(1.5*l),2*l]:0===i?[-75,0,100].slice():[0,75,100].slice(),console.log(c),this.setState({values:c.slice(),update:c.slice()}),this.onUpdate(c)}}},{key:"render",value:function(){var e=this.state,t=e.values,n=(e.update,this.props),i=n.threshold_type,r=n.target,o=n.domain;return S.a.createElement("div",{className:"mt-5",style:{height:70,width:"95%"}},S.a.createElement(Ur.c,{mode:2,step:1,domain:o,rootStyle:so,onUpdate:this.onUpdate,onChange:this.onChange,values:t},S.a.createElement(Ur.b,null,function(e){var t=(0,e.getRailProps)();return t.onMouseDown=function(){},t.onTouchStart=function(){},S.a.createElement($r,{getRailProps:function(){},color:0===i?"#ff0000":"#218838"})}),S.a.createElement(Ur.a,null,function(e){var t=e.handles,a=e.getHandleProps;return S.a.createElement("div",{className:"slider-handles"},t.map(function(e,t,n){return t===(0===i?1:0)?S.a.createElement(Br,{key:e.id,handle:e,domain:o,getHandleProps:function(){},disabled:!0}):t+1==n.length?S.a.createElement(Br,{key:e.id,handle:e,domain:o,getHandleProps:function(){},disabled:!0,noDisplay:!0}):S.a.createElement(Br,{key:e.id,handle:e,domain:o,getHandleProps:a})}))}),S.a.createElement(Ur.e,{left:!1,right:!1},function(e){var t=e.tracks;e.getTrackProps;return S.a.createElement("div",{className:"slider-tracks"},t.map(function(e,t,n){var a=e.id,r=e.source,o=e.target;return t+1===n.length?S.a.createElement(Gr,{key:a,source:r,target:o,getTrackProps:function(){},color:0===i?"#218838":"#ff0000"}):S.a.createElement(Gr,{key:a,source:r,target:o,getTrackProps:function(){},color:"#b28900"})}))}),S.a.createElement(Ur.d,{count:5},function(e){var a=e.ticks;return S.a.createElement("div",{className:"slider-ticks"},a.map(function(e,t,n){return t===Math.floor(n.length/2)?S.a.createElement(Yr,{key:e.id,tick:e,count:a.length,suffix:r?"":"%",name:r?null:"Target"}):t>Math.floor(n.length/2)?S.a.createElement(Yr,{key:e.id,tick:e,count:a.length,suffix:r?"":"%",prefix:"+"}):S.a.createElement(Yr,{key:e.id,tick:e,count:a.length,suffix:r?"":"%"})}))})))}}]),a}(),fo=function(){var o=this;this.getValues=function(){var e=o.props,t=e.target,n=e.warning_margin,a=e.threshold_type,r=parseInt(t);return t?0===a?[n||Math.round(r-.5*r),r,2*r]:[r,n||Math.round(1.5*r),2*r]:0===a?[n,0,100].slice():[0,n,100].slice()},this.onUpdate=function(e){(0,o.props.onUpdate)(e)},this.onChange=function(e){o.setState({values:e})}},mo=po;function bo(e){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Eo=function(){function t(e){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(c=function(e,t){return!t||"object"!==bo(t)&&"function"!=typeof t?vo(e):t}(this,ho(t).call(this,e))).onSliderUpdate=function(e){var t=c.props.onChange;t({target:{name:"safe_deviation",value:e[1]}}),t({target:{name:"danger_deviation",value:e[2]}})},c.onThresholdSliderUpdate=function(e){var t=c.props.values.threshold_type;(0,c.props.onChange)({target:{name:"warning_margin",value:0===t?e[0]:e[1]}})},c.onKpiTypeChange=function(e){var t=c.props.onChange,n=c.props.values,a=n.kpi_type,r=n.safe_deviation,o=n.warning_margin,i=n.danger_deviation;0===a?c.updateSlider([0,r,i,100]):1===a&&c.updateSlider([0,o,100]),t(e)},c.onGlobalTargetChange=function(e){var t=c.props.onChange,n=e.target.value;isNaN(n)||t(e)},c.onThresholdTypeChange=function(e){var t=c.props.onChange;"greater"===e.target.id&&e.target.checked&&(c.updateSlider([-50,0,100]),t({target:{name:"threshold_type",value:0}}),t({target:{name:"warning_margin",value:-50}})),"less"===e.target.id&&e.target.checked&&(c.updateSlider([0,50,100]),t({target:{name:"threshold_type",value:1}}),t({target:{name:"warning_margin",value:50}}))},c.onSliderUpdate=c.onSliderUpdate.bind(vo(c)),c.slider=S.a.createRef(),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(t,O["Component"]),function(e,t,n){t&&yo(e.prototype,t),n&&yo(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props.values,t=e.danger_deviation,n=e.safe_deviation,a=e.kpi_type,r=e.warning_margin;0===a?this.updateSlider([0,n,t,100]):1===a&&this.updateSlider([0,r,100])}},{key:"updateSlider",value:function(e){this.slider.current&&this.slider.current.onChange(e)}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=(e.pillar,e.editFrequency),a=this.props.values,r=a.name,o=a.frequency,i=a.safe_deviation,c=a.danger_deviation,l=a.kpi_type,u=a.warning_margin,s=a.threshold_type,p=a.global_target,d=a.leader,f=a.unit,m=[S.a.createElement("div",{className:"row justify-content-center"},S.a.createElement("div",{className:"col-sm-11"},S.a.createElement(ro,{disabledRail:!0,onUpdate:this.onSliderUpdate,ref:this.slider,danger_deviation:c,safe_deviation:i})),S.a.createElement("div",{className:"col-sm-4"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"safe"},"Safe Limit"),S.a.createElement("input",{className:"form-control",type:"text",name:"safe_deviation",placeholder:"...",value:"".concat(i,"%"),disabled:!0}))),S.a.createElement("div",{className:"col-sm-4"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"danger"},"Danger Limit"),S.a.createElement("input",{className:"form-control",type:"text",name:"danger_deviation",placeholder:"...",value:"".concat(c,"%"),disabled:!0})))),S.a.createElement("div",{className:"row justify-content-center"},S.a.createElement("div",{className:"col-sm-6 mt-3"},S.a.createElement("div",{className:"form-check"},S.a.createElement("input",{type:"radio",name:"threshold_type",className:"form-check-input",id:"greater",onChange:this.onThresholdTypeChange,checked:!s}),S.a.createElement("label",{htmlFor:"threshold_type",className:"form-check-label mb-3"},"Greater Than")),S.a.createElement("div",{className:"form-check"},S.a.createElement("input",{type:"radio",name:"threshold_type",className:"form-check-input",id:"less",onChange:this.onThresholdTypeChange,checked:!!s}),S.a.createElement("label",{htmlFor:"threshold_type",className:"form-check-label mb-3"},"Less Than"))),S.a.createElement("div",{className:"col-sm-6 mt-3"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"global_target"},"Target"),S.a.createElement("input",{className:"form-control",type:"text",name:"global_target",onChange:this.onGlobalTargetChange,placeholder:"...",value:p||"",required:!0})))),S.a.createElement("div",{className:"row justify-content-center"},S.a.createElement("div",{className:"col-sm-11"},S.a.createElement(mo,{threshold_type:s,disabledRail:!0,onUpdate:this.onThresholdSliderUpdate,ref:this.slider,warning_margin:u,target:p,domain:0===s?[p?0:-100,p?1.5*parseInt(p):100]:[parseInt(p)-.5*parseInt(p)||-100,p?2*parseInt(p):100]})),S.a.createElement("div",{className:"col-sm-2"},S.a.createElement("div",{className:"form-check"},S.a.createElement("input",{type:"radio",name:"threshold_type",className:"form-check-input",id:"greater",onChange:this.onThresholdTypeChange,checked:!s}),S.a.createElement("label",{htmlFor:"threshold_type",className:"form-check-label mb-3"},"Greater Than")),S.a.createElement("div",{className:"form-check"},S.a.createElement("input",{type:"radio",name:"threshold_type",className:"form-check-input",id:"less",onChange:this.onThresholdTypeChange,checked:!!s}),S.a.createElement("label",{htmlFor:"threshold_type",className:"form-check-label mb-3"},"Less Than"))),S.a.createElement("div",{className:"col-sm-4"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"global_target"},"Target"),S.a.createElement("input",{className:"form-control",type:"text",name:"global_target",onChange:this.onGlobalTargetChange,placeholder:"...",value:p||""}))),S.a.createElement("div",{className:"col-sm-4"},S.a.createElement("label",{htmlFor:"warning_margin"},"Warning Limit"),S.a.createElement("input",{className:"form-control",type:"text",name:"warning_margin",placeholder:"...",value:"".concat(u).concat(p?"":"%"),disabled:!0})))];return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"col-sm-6"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"name"},"Name"),S.a.createElement("input",{className:"form-control",type:"text",name:"name",onChange:t,placeholder:"...",value:r,required:!0})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"kpi_type"},"Type"),S.a.createElement("select",{className:"form-control",type:"text",name:"kpi_type",onChange:this.onKpiTypeChange,placeholder:"...",value:l,required:!0},at.map(function(e){return S.a.createElement("option",{key:"choice-".concat(e.id),value:e.id},e.name)}))),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"frequency"},"Frequency"),S.a.createElement("select",{className:"form-control",type:"text",name:"frequency",onChange:t,placeholder:"...",value:o,required:!0,disabled:!n},it.map(function(e){return S.a.createElement("option",{key:"choice-".concat(e.id),value:e.id},e.name)})))),S.a.createElement("div",{className:"col-sm-6"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"leader"},"Leader"),S.a.createElement("input",{className:"form-control",type:"text",name:"leader",onChange:t,placeholder:"...",value:d,required:!0})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"unit"},"Unit"),S.a.createElement("input",{className:"form-control",type:"text",name:"unit",onChange:t,placeholder:"...",value:f||""})))),m[l])}}]),t}();Eo.propTypes={onChange:m.a.func.isRequired};var wo=Eo;function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){_o(t,e,n[e])})}return t}function _o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jo(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Po=function(){function t(e){var y;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(y=jo(this,No(t).call(this,e))).update=function(e){y.setState(So({},e))},y.onSubmit=function(e){e.preventDefault();var t=y.props,n=t.updateKpi,a=t.kpi,r=y.state,o=r.name,i=r.frequency,c=r.safe_deviation,l=r.danger_deviation,u=r.warning_margin,s=r.dashboard,p=r.kpi_type,d=r.threshold_type,f=r.leader,m=r.unit,b=y.state.global_target||null;n({name:o,danger_deviation:l,safe_deviation:c,warning_margin:u,frequency:i,dashboard:s,kpi_type:p,threshold_type:d,global_target:b,leader:f,unit:m,isPercentage:!b},a.id)},y.onChange=function(e){y.setState(_o({},e.target.name,e.target.value))},e.kpi?y.state=So({},e.kpi):y.state={name:"",danger_deviation:"",safe_deviation:"",warning_margin:.5,frequency:"",kpi_type:0,global_target:"",threshold_type:0,leader:"",unit:""},y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}(t,O["Component"]),function(e,t,n){t&&ko(e.prototype,t),n&&ko(e,n)}(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.kpi;t!=e.kpi&&this.update(t)}},{key:"render",value:function(){var e=this.props.kpi;return S.a.createElement("form",{onSubmit:this.onSubmit,className:"w-100 mt-3"},S.a.createElement(wo,{onChange:this.onChange,pillar:e.pillar,values:this.state}),S.a.createElement("button",{type:"submit",className:"btn btn-success mb-4 mt-3"},"Save Changes"))}}]),t}();Po.propTypes={updateKpi:m.a.func.isRequired};var Do=Object(d.b)(null,{updateKpi:function(n,a){return function(t,e){y.a.patch("/api/kpis/".concat(a,"/"),n,c(e)).then(function(e){t(o({updateKpi:"KPI Updated!"})),t({type:I,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}})(Po);function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Io=function(){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==To(t)&&"function"!=typeof t?Ro(e):t}(this,Ao(t).call(this,e))).onRemove=function(){$("#removeConfirmation").modal("show")},r.onSubmitRemove=function(e){var t=r.props,n=t.kpi,a=t.deleteKpi;return e.name===n.name&&(a(n.id),!0)},r.onSubmitRemove=r.onSubmitRemove.bind(Ro(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}(t,O["Component"]),function(e,t,n){t&&xo(e.prototype,t),n&&xo(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setRemove)({type:"kpi",item:e.kpi,onSubmit:this.onSubmitRemove})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.kpi,a=t.setRemove;e.kpi,a({type:"kpi",item:n,onSubmit:this.onSubmitRemove})}},{key:"render",value:function(){var e=this.props,t=e.kpi,n=e.onSeriesSelect;return S.a.createElement(O.Fragment,null,S.a.createElement("h3",{className:"mt-4"},"Series"),S.a.createElement(qr,{kpiId:t.id,onClick:n,series:t.series}),S.a.createElement("h3",null,"Properties"),S.a.createElement("div",{className:"d-flex"},S.a.createElement(Do,{kpi:t})),S.a.createElement("hr",null),S.a.createElement("div",{className:"d-flex justify-content-end"},S.a.createElement("button",{className:"btn btn-danger",onClick:this.onRemove},"Delete Kpi")))}}]),t}(),Mo=Object(d.b)(null,{deleteKpi:function(n){return function(t,e){y.a.delete("/api/kpis/".concat(n,"/"),c(e)).then(function(){t(o({deleteKpi:"KPI deleted"})),t({type:M,payload:n})}).catch(function(e){return t(i(e.response.data,e.response.status))})}}})(Io);function qo(e){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wo=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==qo(t)&&"function"!=typeof t?Ko(e):t}(this,Lo(n).call(this,e))).onSeriesSelect=function(e){t.setState({selectedSeries:e}),t.setViewState(1)},t.setViewState=function(e){t.setState({view:e})},t.onSeriesBack=function(){t.setState({view:0})},t.setRemove=function(e){(0,t.props.setRemove)(e)},t.state={selectedSeries:null,view:0},t.onSeriesSelect=t.onSeriesSelect.bind(Ko(t)),t.setViewState=t.setViewState.bind(Ko(t)),t.onSeriesBack=t.onSeriesBack.bind(Ko(t)),t.setRemove=t.setRemove.bind(Ko(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(n,O["Component"]),function(e,t,n){t&&Uo(e.prototype,t),n&&Uo(e,n)}(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.kpi,a=t.changeMenu,r=t.resetKpiSelect;if(!n)return a(!1),void r();e.kpi.id===n.id&&e.kpi.series.length===n.series.length||this.setState({view:0})}},{key:"render",value:function(){var e=this.props,t=e.kpi,n=e.changeMenu;if(!t)return n(!1),S.a.createElement("div",null);var a=this.state,r=a.selectedSeries,o=a.view,i=La(r,t.series,"id");switch(o){case 0:return S.a.createElement(Mo,{kpi:t,onSeriesSelect:this.onSeriesSelect,setRemove:this.setRemove});case 1:return S.a.createElement(_r,{series:i,onBack:this.onSeriesBack,setRemove:this.setRemove});default:return"404"}}}]),n}();function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Bo(t,e,n[e])})}return t}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Go(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Yo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qo=function(){function t(e){var y;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(y=Yo(this,Vo(t).call(this,e))).update=function(e){y.setState($o({},e))},y.onSubmit=function(e){e.preventDefault();var t=y.props,n=t.addKpi,a=t.pillar,r=t.dashboard,o=y.state,i=o.name,c=o.frequency,l=o.safe_deviation,u=o.danger_deviation,s=o.warning_margin,p=o.kpi_type,d=o.leader,f=o.threshold_type,m=y.state.global_target||null,b=!m;n({name:i,danger_deviation:u,safe_deviation:l,frequency:c,kpi_type:p,warning_margin:s,dashboard:r,leader:d,pillar:a,global_target:m,threshold_type:f,unit:y.state.unit||null,isPercentage:b}),y.setState({name:"",danger_deviation:75,safe_deviation:25,frequency:0,warning_margin:-50,kpi_type:0,leader:"",global_target:"",unit:""}),$("#newKpi").modal("hide")},y.onChange=function(e){y.setState(Bo({},e.target.name,e.target.value))},e.kpi?y.state=$o({},e.kpi):y.state={name:"",kpi_type:0,danger_deviation:75,safe_deviation:25,warning_margin:-50,frequency:0,global_target:"",threshold_type:0,leader:"",unit:""},y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(t,O["Component"]),function(e,t,n){t&&Go(e.prototype,t),n&&Go(e,n)}(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.kpi;t!=e.kpi&&this.update(t)}},{key:"render",value:function(){var e=this.props.pillar;return S.a.createElement("form",{onSubmit:this.onSubmit,className:"w-100 mt-3"},S.a.createElement(wo,{onChange:this.onChange,values:this.state,pillar:e,editFrequency:!0}),S.a.createElement("button",{type:"submit",className:"btn btn-success mb-4 mt-3"},"Create"))}}]),t}();Qo.propTypes={addKpi:m.a.func.isRequired};var Jo=Object(d.b)(null,{addKpi:function(n){return function(t,e){y.a.post("/api/kpis/",n,c(e)).then(function(e){t(o({addKpi:"KPI Added!"})),t({type:F,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}}})(Qo);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ti(e,t){return!t||"object"!==Zo(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ai(e,t){return(ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ri=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=ti(this,ni(n).call(this,e))).onChange=function(e){t.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault(),t.props.removeContext.onSubmit(t.state)&&$("#removeConfirmation").modal("hide")},t.modalRef=S.a.createRef(),t.state={password:"",exported:!1,name:""},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)}(n,O["Component"]),function(e,t,n){t&&ei(e.prototype,t),n&&ei(e,n)}(n,[{key:"render",value:function(){var e=this.props.removeContext;if(!e)return S.a.createElement(Pn,{title:"Are You Sure?",iconClass:"im im-data-remove",id:"removeConfirmation"}," ");var t=e.type,n=e.item,a=this.state,r=(a.password,a.name);a.exported;return S.a.createElement(Pn,{title:"Are You Sure?",iconClass:"im im-data-remove",id:"removeConfirmation",ref:this.modalRef},S.a.createElement("form",{onSubmit:this.onSubmit},S.a.createElement("p",{className:"card-text"},"This action cannot be undone. This will permanently remove the"," ",S.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},n?n.name||n.title:"null")," ","".concat(t," and all associated data.")," "),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"name"},"Please type in the name of the ".concat(t," to confirm")),S.a.createElement("input",{type:"text",name:"name",value:r,className:"form-control",onChange:this.onChange})),S.a.createElement("button",{type:"submit",className:"btn btn-warning"},"I understand the consequences, remove this item")))}}]),n}();ri.propTypes={removeContext:m.a.object};function oi(e){if(!e.show||!e.data)return S.a.createElement(S.a.Fragment,null);var t=e.data,n=t.kpiName,a=t.warning_margin,r=t.target,o=t.date,i=t.value,c=t.kpi_type,l=t.x,u=t.y;switch(c){case 2:return S.a.createElement("div",{className:"card qd-tooltip",style:{left:l+"px",top:u+"px",display:"block"}},S.a.createElement("div",{className:"card-body"},S.a.createElement("h5",{style:{lineHeight:.4}},n),S.a.createElement("div",{className:"card-text",style:{lineHeight:.5}},S.a.createElement("hr",null),S.a.createElement("p",null,"Value: ",i),S.a.createElement("p",null,"Target: ",r),S.a.createElement("p",null,"Date: ",o," "),S.a.createElement("p",null,"Warning Margin: ",a," "))));case 0:return S.a.createElement("div",{className:"card p-2 qd-tooltip",style:{left:l+"px",top:u+"px",display:"block"}},S.a.createElement("div",{className:"card-body"},S.a.createElement("h5",{style:{lineHeight:.4}},n),S.a.createElement("div",{className:"card-text",style:{lineHeight:.5}},S.a.createElement("hr",null),S.a.createElement("p",null,"Value: ",i),S.a.createElement("p",null,"Target: ",r),S.a.createElement("p",null,"Date: ",o," "),S.a.createElement("p",null,"Deviation: ",(100*(i/r-1)).toFixed(2),"% "))));case 1:return S.a.createElement("div",{className:"card p-2 qd-tooltip",style:{left:l+"px",top:u+"px",display:"block"}},S.a.createElement("div",{className:"card-body"},S.a.createElement("h5",{style:{lineHeight:.4}},n),S.a.createElement("div",{className:"card-text",style:{lineHeight:.5}},S.a.createElement("hr",null),S.a.createElement("p",null,"Value: ",i),S.a.createElement("p",null,"Target: ",r),S.a.createElement("p",null,"Date: ",o," "))))}}var ii=ri;function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function li(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var di=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ci(t)&&"function"!=typeof t?si(e):t}(this,ui(t).call(this,e))).setMenuState=function(e){n.setState({menuMode:e})},n.setRemove=function(e){n.setState({removeContext:e})},n.showTooltip=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;n.setState({toolTipShow:e}),t&&t.payload&&n.setState({toolTipData:t.payload})},n.resetKpiSelect=function(){var e=n.props.kpis;e[0]&&n.setState({selectedKpi:e[0].id})},n.deselect=function(){Ze.n(".line").attr("stroke-width",1.8),Ze.n(".dot").attr("r",3),Ze.n(".legend").attr("font-weight","normal").attr("font-size","17"),n.selectSeries(null)},n.state={selectedSeries:null,selectedExport:"",selectedKpi:null,menuMode:!1,removeContext:null,toolTipData:null,toolTipShow:!1},n.selectSeries=n.selectSeries.bind(si(n)),n.selectKpi=n.selectKpi.bind(si(n)),n.setRemove=n.setRemove.bind(si(n)),n.resetKpiSelect=n.resetKpiSelect.bind(si(n)),n.showTooltip=n.showTooltip.bind(si(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(t,O["Component"]),function(e,t,n){t&&li(e.prototype,t),n&&li(e,n)}(t,[{key:"componentDidUpdate",value:function(e){e.kpis,this.props.kpis}},{key:"componentDidMount",value:function(){var e=this.props,t=e.getADashboard,n=e.getKpis,a=e.clearKpis,r=this.props.match.params,o=r.dashboardId,i=r.pillarId;a(),t(this.props.match.params.dashboardId),n(o,i)}},{key:"selectSeries",value:function(e){this.setState({selectedSeries:e})}},{key:"selectKpi",value:function(e){this.setState({selectedKpi:e})}},{key:"render",value:function(){var e=this.props,t=e.kpis,n=e.currentDashboard,a=this.props.match.params,r=a.pillarId,o=a.dashboardId,i=this.state,c=i.selectedSeries,l=i.selectedKpi,u=i.menuMode,s=i.removeContext,p=i.toolTipData,d=i.toolTipShow,f=La(l,t,"id");if(null==n)return S.a.createElement(Ke,null);var m=n.background;return S.a.createElement("div",{className:"container-fluid pt-4 pb-4",style:{padding:0,background:m,height:"".concat(100,"%"),minHeight:"fit-content"}},S.a.createElement(oi,{data:p,show:d}),S.a.createElement("div",{className:"row m-0 h-100"},S.a.createElement("div",{className:"col-lg-4"},S.a.createElement("div",{className:"card h-100"},S.a.createElement("div",{className:"card-body"},S.a.createElement(wt,{kpis:t,letter:"Plus"===r?"+":r,dashboardId:o,labeled:!0,onHover:this.showTooltip})),S.a.createElement("div",{className:"card-footer",style:{display:"flex"}},S.a.createElement("div",{className:"row w-100"},S.a.createElement("div",{className:"col-lg-12"},S.a.createElement(Lt,{data:t,header:ct,fontSize:"".concat(.7,"rem"),summary:!1})))))),S.a.createElement("div",{className:"col-lg-8"},S.a.createElement("div",{className:"card h-100"},S.a.createElement("div",{className:"card-body scroll"},u?S.a.createElement(Wo,{kpi:f,setRemove:this.setRemove,changeMenu:this.setMenuState,menuState:this.menuMode,resetKpiSelect:this.resetKpiSelect}):S.a.createElement(Ka,{kpis:t,selectSeries:this.selectSeries,selectedKpi:l})),S.a.createElement("div",{className:"card-footer",style:{display:"flex"}},S.a.createElement(Ga,{active:c,selectKpi:this.selectKpi,selectSeries:this.selectSeries,deselect:this.deselect,kpis:t,changeMenu:this.setMenuState,menuMode:u,kpi:f}))))),S.a.createElement(Pn,{id:"newKpi",title:"New KPI",iconClass:"im im-dashboard"},S.a.createElement(Jo,{pillar:r,dashboard:n.id})),S.a.createElement(ii,{removeContext:s}))}}]),t}();di.propTypes={getADashboard:m.a.func.isRequired,kpis:m.a.array.isRequired,currentDashboard:m.a.object};var fi=Object(d.b)(function(e){return{kpis:e.dashboards.kpis,currentDashboard:e.dashboards.currentDashboard}},{getADashboard:Pe,getKpis:Te,clearKpis:xe})(di);function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function yi(e,t){return!t||"object"!==mi(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vi(e,t){return(vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gi=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yi(this,hi(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vi(e,t)}(e,O["Component"]),function(e,t,n){t&&bi(e.prototype,t),n&&bi(e,n)}(e,[{key:"render",value:function(){var e=this.props,t=e.dashboard,n=(e.deleteDashboard,e.onRemoveClick),a=e.onEditClick;return S.a.createElement("div",{className:"card m-3"},S.a.createElement("div",{className:"card-body"},S.a.createElement("div",{className:"d-flex"},S.a.createElement("div",{className:"card-title",style:{fontSize:"1.25rem",fontWeight:"bold"}},t.title," "),S.a.createElement("i",{style:{color:t.background,textAlign:"right"},className:"im im-drop ml-auto"}),S.a.createElement("i",{style:{textAlign:"right"},className:"im im-gear ml-3 gear-anim",onClick:function(){return a(t)}})),S.a.createElement("p",{className:"card-text"},"Author: ",t.author,S.a.createElement("br",null),"Level: ",t.level),S.a.createElement("div",{className:"d-flex"},S.a.createElement(l.b,{to:"/boardroom/".concat(t.id),className:"btn btn-primary btn-sm"},"View"),S.a.createElement("button",{onClick:function(){return n(t)},className:"btn btn-danger btn-sm ml-auto"}," ","Delete"))))}}]),e}(),Ei=Object(d.b)(null,{deleteDashboard:Ce})(gi);function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Si(e,t){return!t||"object"!==wi(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ji=function(){function i(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return Si(n,(t=n=Si(this,(e=_i(i)).call.apply(e,[this].concat(r))),n.state={deleteMode:!1},n.onToggleDeleteMode=function(){n.setState({deleteMode:!n.state.deleteMode})},n.onDelete=function(e){(0,n.props.deleteImage)(e),n.setState({deleteMode:!n.state.deleteMode})},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ki(e,t)}(i,O["Component"]),function(e,t,n){t&&Oi(e.prototype,t),n&&Oi(e,n)}(i,[{key:"render",value:function(){var n=this,e=this.props.images,a=this.state.deleteMode;return e&&e.length?S.a.createElement(S.a.Fragment,null,S.a.createElement("label",{htmlFor:"image",style:{marginBottom:"-20px"}},"Infographics"),S.a.createElement("div",{className:"container"},S.a.createElement("div",{className:"container--fluid"},e.map(function(t){return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{class:"image-container"},S.a.createElement("img",{className:"image",src:t.image}),a&&S.a.createElement("i",{class:"image-delete im im-x-mark",onClick:function(e){return n.onDelete(t.id)}})))}))),!a&&S.a.createElement("button",{onClick:this.onToggleDeleteMode,type:"button",className:"btn ".concat(a?"btn-success":"btn-danger"," btn-sm mt-3")},a?"Done":"Delete Mode")):S.a.createElement(S.a.Fragment,null)}}]),i}(),Ni=Object(d.b)(null,{deleteImage:function(n){return function(t,e){y.a.delete("/api/image/".concat(n,"/"),c(e)).then(function(){t(o({deleteImage:"Image deleted"})),t({type:pe,payload:n})}).catch(function(e){return t(i(e.response.data,e.response.status))})}}})(ji);function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Di(e,t){return!t||"object"!==Ci(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ai=function(){function i(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return Di(n,(t=n=Di(this,(e=Ti(i)).call.apply(e,[this].concat(r))),n.onChangeColor=function(e){(0,n.props.onChange)({target:{name:"background",value:e.hex}})},n.onChangeFile=function(e){(0,n.props.onChange)({target:{name:"image",value:e.target.files[0]}})},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}(i,O["Component"]),function(e,t,n){t&&Pi(e.prototype,t),n&&Pi(e,n)}(i,[{key:"render",value:function(){var e=this.props.values,t=e.title,n=e.author,a=e.background,r=e.dashboard_type,o=e.level,i=this.props.images,c=this.props,l=c.onChange,u=c.showImageField;return S.a.createElement(O.Fragment,null,S.a.createElement("div",{className:"row justify-content-between"},S.a.createElement("div",{className:"col-sm-6"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"title"},"Title"),S.a.createElement("input",{className:"form-control",type:"text",name:"title",onChange:l,value:t||""})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"author"},"Author"),S.a.createElement("input",{className:"form-control",type:"text",name:"author",onChange:l,value:n||""})),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"dashboard_type"},"Type"),S.a.createElement("select",{className:"form-control",type:"text",name:"dashboard_type",onChange:l,value:r},nt.map(function(e){return S.a.createElement("option",{key:"choice-".concat(e.id),value:e.id},e.name)}))),S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"level"},"Level"),S.a.createElement("select",{className:"form-control",type:"text",name:"level",value:o,onChange:l},rt.map(function(e){return S.a.createElement("option",{key:e.id,value:e.id},e.name)})))),S.a.createElement("div",{className:"col-sm-6"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"color"},"Background Color"),S.a.createElement(Ya.ChromePicker,{color:a,onChangeComplete:this.onChangeColor}))),u&&S.a.createElement("div",{className:"col-12 mr-2"},S.a.createElement(Ni,{images:i})),u&&S.a.createElement("div",{className:"col-12 mt-2"},S.a.createElement("div",{className:"form-group"},S.a.createElement("label",{htmlFor:"image"},"Add Infographic"),S.a.createElement("input",{type:"file",name:"image",className:"form-control-file",onChange:this.onChangeFile})))))}}]),i}();Ai.propTypes={addDashboard:m.a.func.isRequired};var Ri=Object(d.b)(null,{addDashboard:De})(Ai);function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Mi(t,e,n[e])})}return t}function Mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ui(e,t){return!t||"object"!==Fi(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Li(e){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hi=function(){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Ui(this,Li(t).call(this,e))).update=function(e){a.setState(Ii({},e))},a.onSubmit=function(e){e.preventDefault();var t=a.props.addDashboard,n=a.state;t({title:n.title,author:n.author,background:n.background,dashboard_type:n.dashboard_type,level:n.level}),a.setState({title:"",author:"",background:"#ffffff",dashboard_type:"0",level:"0"}),$("#dashboardNew").modal("hide")},a.onChange=function(e){a.setState(Mi({},e.target.name,e.target.value))},a.state={title:"",author:"",background:"#ffffff",dashboard_type:"0",level:"0"},e.dashboard&&(a.state=Ii({},e.dashboard)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(t,O["Component"]),function(e,t,n){t&&qi(e.prototype,t),n&&qi(e,n)}(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.dashboard;t!=e.dashboard&&this.update(t)}},{key:"render",value:function(){return S.a.createElement("form",{onSubmit:this.onSubmit,className:"w-100 mt-3"},S.a.createElement(Ri,{showImageField:!0,onChange:this.onChange,values:this.state}),S.a.createElement("button",{type:"submit",className:"btn btn-success mb-4 mt-3"},"Create"))}}]),t}();Hi.propTypes={addDashboard:m.a.func.isRequired};var Wi=Object(d.b)(null,{addDashboard:De})(Hi);function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Bi(t,e,n[e])})}return t}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Yi(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Vi(e){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xi(e,t){return(Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qi=function(){function t(e){var f;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(f=Yi(this,Vi(t).call(this,e))).update=function(e){f.setState($i({},e))},f.onSubmit=function(e){e.preventDefault();var t=f.props,n=t.updateDashboard,a=t.dashboard,r=t.addImage,o=f.state,i=o.title,c=o.author,l=o.background,u=o.dashboard_type,s=o.level,p=o.image,d={title:i,author:c,background:l,dashboard_type:u,level:s};d.id=a.id,n(d,d.id),p&&r({image:p,dashboard:a.id});$("#dashboardEdit").modal("hide")},f.onChange=function(e){f.setState(Bi({},e.target.name,e.target.value))},f.state={title:"",author:"",background:"#ffffff",dashboard_type:"0",level:"0"},e.dashboard&&(f.state=$i({},e.dashboard)),f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xi(e,t)}(t,O["Component"]),function(e,t,n){t&&Gi(e.prototype,t),n&&Gi(e,n)}(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.dashboard;t!=e.dashboard&&this.update(t)}},{key:"render",value:function(){var e=this.props.dashboard;return S.a.createElement("form",{onSubmit:this.onSubmit,className:"w-100 mt-3"},S.a.createElement(Ri,{showImageField:!0,onChange:this.onChange,values:this.state,images:e?e.images:null}),S.a.createElement("button",{type:"submit",className:"btn btn-success mb-4 mt-3"},"Save"))}}]),t}();Qi.propTypes={updateDashboard:m.a.func.isRequired};var Ji=Object(d.b)(null,{updateDashboard:function(n,a){return function(t,e){y.a.patch("/api/dashboards/".concat(a,"/"),n,c(e)).then(function(e){t(o({updateDashboard:"Dashboard Updated!"})),t({type:E,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t(o({invalidForm:"Form is invalid"}))})}},addImage:function(a){return function(t,e){var n=new FormData;n.append("dashboard",JSON.stringify(a.dashboard)),n.append("image",a.image),y.a.post("api/image/",n,{headers:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){je(t,e,n[e])})}return t}({},c(e).headers,{"Content-Type":"multipart/form-data"})}).then(function(e){t(o({addImage:"Image Added!"})),t({type:se,payload:e.data})}).catch(function(e){t(o({invalidForm:"Form is invalid"})),t(i(e,e))})}}})(Qi);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function tc(e){return(tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e,t){return(ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rc=function(){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?nc(e):t}(this,tc(t).call(this,e))).newDashboardClick=function(){$("#dashboardNew").modal("show")},a.setRemove=function(e){a.setState({removeItem:e}),$("#removeConfirmation").modal("show")},a.setEdit=function(e){a.setState({editItem:e}),$("#dashboardEdit").modal("show")},a.onRemoveConfirmationSubmit=function(e){var t=a.props.deleteDashboard,n=a.state.removeItem;return e.name===n.title&&(t(n.id),!0)},a.state={removeItem:null,editItem:null},a.setRemove=a.setRemove.bind(nc(a)),a.onRemoveConfirmationSubmit=a.onRemoveConfirmationSubmit.bind(nc(a)),a.setEdit=a.setEdit.bind(nc(a)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ac(e,t)}(t,O["Component"]),function(e,t,n){t&&ec(e.prototype,t),n&&ec(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.getDashboards()}},{key:"render",value:function(){var t=this,e=this.props.dashboards,n=this.state,a=n.removeItem,r=n.editItem,o={};return r&&(o=La(r.id,e,"id")),S.a.createElement(O.Fragment,null,S.a.createElement("div",{className:"row m-0"},e.map(function(e){return S.a.createElement("div",{key:e.id,className:"col-lg-4 col-sm-12"},S.a.createElement(Ei,{dashboard:e,onRemoveClick:t.setRemove,onEditClick:t.setEdit}))}),S.a.createElement("div",{className:"col-lg-4 col-sm-12"},S.a.createElement(Dr,{text:"Dashboard",handleClick:this.newDashboardClick}))),S.a.createElement(ii,{removeContext:{item:a,type:"dashboard",onSubmit:this.onRemoveConfirmationSubmit}}),S.a.createElement(Pn,{title:"Edit Dashboard",id:"dashboardEdit"},S.a.createElement(Ji,{dashboard:o})),S.a.createElement(Pn,{title:"New Dashboard",id:"dashboardNew"},S.a.createElement(Wi,null)))}}]),t}();rc.propTypes={dashboards:m.a.array.isRequired,getDashboards:m.a.func.isRequired,deleteDashboard:m.a.func.isRequired};var oc=Object(d.b)(function(e){return{dashboards:e.dashboards.dashboards}},{getDashboards:Ne,deleteDashboard:Ce})(rc);function ic(e){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function lc(e,t){return!t||"object"!==ic(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sc(e,t){return(sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pc(e){return S.a.createElement("div",{className:"row justify-content-center m-0"},S.a.createElement("div",{className:"col-lg-5 mt-5"},S.a.createElement("div",{className:"card"},S.a.createElement("div",{className:"card-body"},S.a.createElement("h1",{className:"card-title"},"Contact"),S.a.createElement("p",{className:"card-text"},S.a.createElement("span",{className:"im-user-male im mr-3"}),"Kyle Thatcher - Co-op Student"),S.a.createElement("p",{className:"card-text"},S.a.createElement("span",{className:"im im-mail mr-3"}),"kyle.thatcher@sanofi.com"),S.a.createElement("p",{className:"card-text"},"Please contact for any and all bugs and issues encountered")))))}var dc=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lc(this,uc(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sc(e,t)}(e,O["Component"]),function(e,t,n){t&&cc(e.prototype,t),n&&cc(e,n)}(e,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clearCurrentDashboard,n=e.clearActionTables;t(),n()}},{key:"render",value:function(){return S.a.createElement("div",{className:"container mt-5"},S.a.createElement(oc,null))}}]),e}(),fc=Object(d.b)(null,{clearCurrentDashboard:function(){return function(e){e({type:J})}},clearActionTables:function(){return function(e){e({type:Z})}}})(dc);function mc(e){return(mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function yc(e,t){return!t||"object"!==mc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vc(e,t){return(vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gc=function(){function i(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return yc(n,(t=n=yc(this,(e=hc(i)).call.apply(e,[this].concat(r))),n.state={curTime:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()).toLocaleDateString(),weekNum:0},t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vc(e,t)}(i,O["Component"]),function(e,t,n){t&&bc(e.prototype,t),n&&bc(e,n)}(i,[{key:"getWeekNumber",value:function(e){(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))).setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-t)/864e5+1)/7)}},{key:"componentDidMount",value:function(){var e=this;setInterval(function(){e.setState({curTime:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()).toLocaleDateString()})},1e3),this.setState({weekNum:this.getWeekNumber(new Date)})}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,n=(e.user,this.props.currentDashboard),a=this.state,r=a.curTime,o=a.weekNum,i=S.a.createElement("ul",{className:"navbar-nav ml-auto mt-2"},S.a.createElement("li",{className:"nav-item"},S.a.createElement("button",{onClick:this.props.logout,className:"nav-link btn btn-info btn-sm text-light pl-2 pr-2"},"Logout"))),c=S.a.createElement("ul",{className:"navbar-nav ml-auto mt-2"},S.a.createElement("li",{className:"nav-item"},S.a.createElement(l.b,{to:"/register",className:"nav-link"},"Register")),S.a.createElement("li",{className:"nav-item"},S.a.createElement(l.b,{to:"/login",className:"nav-link"},"Login")));return S.a.createElement("nav",{className:"navbar navbar-expand-lg co-accent"},S.a.createElement("div",{className:"container-fluid",style:{fontSize:"18px"}},S.a.createElement("img",{src:"../../../../static/media/sms-logo.png",style:{height:"50px",width:"50px"},className:"mr-3 p-1"}),S.a.createElement("a",{className:"navbar-brand brand",href:"#"},"+QDCI Boards"),S.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},S.a.createElement("span",{className:"navbar-toggler-icon"})),S.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},S.a.createElement("ul",{className:"navbar-nav"},S.a.createElement("li",{className:"nav-item"},S.a.createElement("a",{className:"nav-link",href:"#"},"My Dashboards")),S.a.createElement("li",{className:"nav-item"},S.a.createElement("a",{className:"nav-link",href:"#/contact"},"Contact an Admin"))),n&&S.a.createElement("h4",{className:"m-auto"},n.title),S.a.createElement("h5",{className:"m-auto"},r,", Week # ",o),t?i:c)))}}]),i}();gc.propTypes={auth:m.a.object.isRequired,logout:m.a.func.isRequired};var Ec=Object(d.b)(function(e){return{auth:e.auth,currentDashboard:e.dashboards.currentDashboard}},{logout:function(){return function(t,e){y.a.post("/api/auth/logout/",null,c(e)).then(function(){t({type:T})}).catch(function(e){t(i(e.response.data,e.response.status))})}}})(gc);function wc(e){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Sc(e,t){return!t||"object"!==wc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _c(e){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kc(e,t){return(kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jc=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sc(this,_c(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kc(e,t)}(e,O["Component"]),function(e,t,n){t&&Oc(e.prototype,t),n&&Oc(e,n)}(e,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,a=t.alert,r=t.messages;n!==e.error&&(n.msg.title&&a.error("Title: ".concat(n.msg.title.join())),n.msg.author&&a.error("Author: ".concat(n.msg.author.join())),n.msg.background&&a.error("Color: ".concat(n.msg.background.join())),n.msg.non_field_errors&&a.error("Author: ".concat(n.msg.non_field_errors.join())),n.msg.username&&a.error(n.msg.username.join())),r!==e.messages&&(r.deleteDashboard&&a.success(r.deleteDashboard),r.addDashboard&&a.success(r.addDashboard),r.passwordsNotMatch&&a.error(r.passwordsNotMatch),r.addKpi&&a.success(r.addKpi),r.addSeries&&a.success(r.addSeries),r.addDatapoint&&a.success(r.addDatapoint),r.addAction&&a.success(r.addAction),r.deleteKpi&&a.success(r.deleteKpi),r.deleteAction&&a.success(r.deleteAction),r.deleteSeries&&a.success(r.deleteSeries),r.deleteDatapoint&&a.success(r.deleteDatapoint),r.updateKpi&&a.success(r.updateKpi),r.updateAction&&a.success(r.updateAction),r.updateActionTable&&a.success(r.updateActionTable),r.updateSeries&&a.success(r.updateSeries),r.updateDatapoint&&a.success(r.updateDatapoint),r.updateAudit&&a.success(r.updateAudit),r.updateWin&&a.success(r.updateWin),r.entriesCreated&&a.success(r.entriesCreated),r.invalidForm&&a.error(r.invalidForm),r.updateDashboard&&a.success(r.updateDashboard))}},{key:"render",value:function(){return S.a.createElement(O.Fragment,null)}}]),e}();jc.propTypes={error:m.a.object.isRequired,alert:m.a.object.isRequired,messages:m.a.object.isRequired};var Nc=Object(d.b)(function(e){return{error:e.errors,messages:e.messages}})(Object(s.c)()(jc)),Cc=n(91),Pc=n(375),Dc=n(376);function Tc(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Ac(t,e,n[e])})}return t}function Ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rc={dashboards:[],kpis:[],currentDashboard:null,actionTables:[],audits:[],wins:[]},Fc={msg:{},status:null},Ic={msg:{},status:null};function Mc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){qc(t,e,n[e])})}return t}function qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uc={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},Lc=Object(Cc.combineReducers)({dashboards:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Rc,n=1<arguments.length?arguments[1]:void 0;switch(n.type){case _:return xc({},e,{currentDashboard:n.payload});case h:return xc({},e,{dashboards:n.payload});case v:return xc({},e,{dashboards:e.dashboards.filter(function(e){return e.id!==n.payload})});case g:return xc({},e,{dashboards:[].concat(Tc(e.dashboards),[n.payload])});case E:return xc({},e,{dashboards:e.dashboards.map(function(e){return e.id===n.payload.id?n.payload:e})});case R:return xc({},e,{kpis:n.payload});case F:return xc({},e,{kpis:[].concat(Tc(e.kpis),[n.payload])});case I:return xc({},e,{kpis:e.kpis.map(function(e){return e.id===n.payload.id?n.payload:e})});case M:return xc({},e,{kpis:e.kpis.filter(function(e){return e.id!==n.payload})});case q:return xc({},e,{kpis:[]});case U:var t=e.kpis.map(function(e){if(e.id!=n.payload.kpi)return e;var t=e.series;return xc({},e,{series:[].concat(Tc(t),[n.payload])})});return xc({},e,{kpis:t});case H:var a=e.kpis.map(function(e){return xc({},e,{series:e.series.map(function(e){return e.id!=n.payload.id?e:n.payload})})});return xc({},e,{kpis:a});case L:return xc({},e,{series:n.payload});case K:var r=e.kpis.map(function(e){return xc({},e,{series:e.series.filter(function(e){return e.id!=n.payload})})});return xc({},e,{kpis:r});case z:t=e.kpis.map(function(e){return xc({},e,{series:e.series.map(function(e){return e.id!=n.payload.series?e:xc({},e,{entries:e.entries.map(function(e){return e.id!=n.payload.id?e:n.payload})})})})});return xc({},e,{kpis:t});case W:t=e.kpis.map(function(e){return xc({},e,{series:e.series.map(function(e){return xc({},e,{entries:e.entries.filter(function(e){return e!=n.payload})})})})});return xc({},e,{kpis:t});case B:var o=e.kpis.map(function(e){return xc({},e,{series:e.series.map(function(e){return e.id!=n.payload.series?e:xc({},e,{entries:[].concat(Tc(e.entries),[n.payload])})})})});return xc({},e,{kpis:o});case Q:return xc({},e,{actionTables:n.payload});case G:var i=e.actionTables.map(function(e){return-1==n.payload.tables.indexOf(e.id)?e:xc({},e,{actions:[].concat(Tc(e.actions),[n.payload])})});return xc({},e,{actionTables:i});case Y:i=e.actionTables.map(function(e){return xc({},e,{actions:e.actions.filter(function(e){return e.id!=n.payload})})});return xc({},e,{actionTables:i});case V:i=e.actionTables.map(function(e){return xc({},e,{actions:e.actions.map(function(e){return e.id!=n.payload.id?e:n.payload})})});return xc({},e,{actionTables:i});case X:i=e.actionTables.map(function(e){return e.id!=n.payload.id?e:n.payload});return xc({},e,{actionTables:i});case J:return xc({},e,{actionTables:[]});case Z:return xc({},e,{currentDashboard:null});case ee:return xc({},e,{audits:n.payload});case te:return xc({},e,{audits:[].concat(Tc(e.audits),[n.payload])});case ae:return xc({},e,{audits:e.audits.filter(function(e){return e.id!=n.payload})});case ne:return xc({},e,{audits:e.audits.map(function(e){return e.id===n.payload.id?n.payload:e})});case re:return xc({},e,{wins:n.payload});case oe:return xc({},e,{wins:[].concat(Tc(e.wins),[n.payload])});case ce:return xc({},e,{wins:e.wins.filter(function(e){return e.id!=n.payload})});case ie:return xc({},e,{wins:e.wins.map(function(e){return e.id===n.payload.id?n.payload:e})});case ue:return xc({},e,{heat:e.heat.map(function(e){return e.id===n.payload.id?n.payload:e})});case le:return xc({},e,{heat:n.payload});case se:return xc({},e,{dashboards:e.dashboards.map(function(e){return e.id!=n.payload.dashboard?e:xc({},e,{images:[].concat(Tc(e.images),[n.payload])})})});case pe:return xc({},e,{dashboards:e.dashboards.map(function(e){return xc({},e,{images:e.images.filter(function(e){return e.id!==n.payload})})})});default:return e}},errors:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Fc,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case w:return{msg:t.payload.msg,status:t.payload.status};default:return e}},messages:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ic,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case k:return t.payload;default:return e}},auth:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Uc,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case j:return Mc({},e,{isLoading:!0});case N:return Mc({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case P:case A:return localStorage.setItem("token",t.payload.token),Mc({},e,t.payload,{isAuthenticated:!0,isLoading:!1});case D:case C:case T:case x:return localStorage.removeItem("token"),Mc({},e,{token:null,user:null,leads:[],isAuthenticated:!1,isLoading:!1});default:return e}}}),Kc=[Dc.a],Hc=Object(Cc.createStore)(Lc,{},Object(Pc.composeWithDevTools)(Cc.applyMiddleware.apply(void 0,Kc)));function Wc(e){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zc(){return(zc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Bc(e,t){return!t||"object"!==Wc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yc(e,t){return(Yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vc={timeout:3e3,position:s.b.TOP_CENTER,containerStyle:{zIndex:5e3}},Xc=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Bc(this,Gc(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yc(e,t)}(e,O["Component"]),function(e,t,n){t&&$c(e.prototype,t),n&&$c(e,n)}(e,[{key:"componentDidMount",value:function(){Hc.dispatch(function(t,e){t({type:j}),y.a.get("/api/auth/user",c(e)).then(function(e){t({type:N,payload:e.data})}).catch(function(e){t(i(e.response.data,e.response.status)),t({type:C})})})}},{key:"render",value:function(){return S.a.createElement(d.a,{store:Hc},S.a.createElement(s.a,zc({template:p.a},Vc),S.a.createElement(l.a,null,S.a.createElement(O.Fragment,null,S.a.createElement("div",{className:"d-flex flex-column h-100"},S.a.createElement("div",{className:"qd-container--header"},S.a.createElement(Ec,null)),S.a.createElement(Nc,null),S.a.createElement("div",{className:"qd-container--page",style:{minHeight:"fit-content"}},S.a.createElement(u.d,null,S.a.createElement(ka,{exact:!0,path:"/",component:fc}),S.a.createElement(u.b,{exact:!0,path:"/register",component:ke}),S.a.createElement(u.b,{exact:!0,path:"/login",component:ve}),S.a.createElement(u.b,{exact:!0,path:"/",component:fc}),S.a.createElement(u.b,{exact:!0,path:"/contact",component:pc}),S.a.createElement(ka,{path:"/boardroom/:id",component:wa}),S.a.createElement(ka,{path:"/pillar/:dashboardId/:pillarId",component:fi}))))))))}}]),e}();r.a.render(S.a.createElement(Xc,null),document.getElementById("app"))}});